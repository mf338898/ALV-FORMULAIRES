(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{832:(e,a,s)=>{Promise.resolve().then(s.bind(s,3772))},3772:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>D});var t=s(5155),r=s(2115),l=s(5695),n=s(6671),i=s(3999),d=s(7168),c=s(8482),o=s(9852),m=s(2714),x=s(5784),h=s(9840),p=s(5139),u=s(1085),g=s(6490),j=s(5968),b=s(3453),v=s(9428),N=s(4616),y=s(1284),f=s(2525),C=s(1243),A=s(7526),w=s(6452),L=s(1455);function S(e){let{id:a,value:s,onChange:l,placeholder:n="Ville (ex: Brest) + code postal",className:d,disabled:c,ariaInvalid:m,maxSuggestions:x=8,onValidSelect:h}=e,[p,u]=(0,r.useState)(s||""),[g,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[N,y]=(0,r.useState)([]),f=(0,r.useRef)(null),C=(0,r.useRef)(null),[A,w]=(0,r.useState)(-1);(0,r.useEffect)(()=>{u(s||"")},[s]),(0,r.useEffect)(()=>{function e(e){C.current&&!C.current.contains(e.target)&&(j(!1),w(-1))}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{let e=p.trim();if(e.length<2){y([]),j(!1);return}let a=setTimeout(async()=>{try{var a,s,t,r;null===(a=f.current)||void 0===a||a.abort();let l=new AbortController;f.current=l,v(!0);let n="https://api-adresse.data.gouv.fr/search/?q=".concat(encodeURIComponent(e),"&type=municipality&limit=").concat(x,"&autocomplete=1"),i=await fetch(n,{signal:l.signal}),d=await i.json(),c=Array.isArray(null==d?void 0:d.features)?d.features:[],o=new Set,m=[];for(let e of c){let a=(null==e?void 0:e.properties)||{},l=String(a.city||a.name||"").trim(),n=String(a.postcode||"").trim(),i=String(a.context||"").trim();if(!l||!n)continue;let d=l.toLowerCase()+"|"+n;o.has(d)||(o.add(d),m.push({id:String((null==e?void 0:null===(s=e.properties)||void 0===s?void 0:s.id)||(null==e?void 0:null===(r=e.geometry)||void 0===r?void 0:null===(t=r.coordinates)||void 0===t?void 0:t.join(","))||d),city:l,postcode:n,context:i}))}y(m),j(m.length>0)}catch(e){}finally{v(!1)}},250);return()=>clearTimeout(a)},[p,x]);let L=e=>{let a="".concat(e.city," (").concat(e.postcode,")");l(a),null==h||h({city:e.city,postcode:e.postcode,label:a,context:e.context}),u(a),j(!1),w(-1)},S=b&&p.trim().length>=2,R=(0,r.useMemo)(()=>a?"".concat(a,"-listbox"):void 0,[a]);return(0,t.jsxs)("div",{ref:C,className:"relative",children:[(0,t.jsx)(o.p,{id:a,value:p,onChange:e=>{u(e.target.value),l(e.target.value)},placeholder:n,className:(0,i.cn)(d),disabled:c,"aria-invalid":m,"aria-autocomplete":"list","aria-controls":R,"aria-expanded":g,role:"combobox",autoComplete:"off"}),S?(0,t.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:"…"}):null,g?(0,t.jsxs)("div",{id:R,role:"listbox",className:"absolute z-20 mt-1 w-full rounded-md border border-slate-200 bg-white shadow-md max-h-64 overflow-auto",children:[N.map((e,a)=>{let s="".concat(e.city," (").concat(e.postcode,")");return(0,t.jsxs)("button",{role:"option","aria-selected":a===A,type:"button",onMouseEnter:()=>w(a),onMouseLeave:()=>w(-1),onClick:()=>L(e),className:(0,i.cn)("w-full text-left px-3 py-2 text-sm transition-colors",a===A?"bg-slate-100":"hover:bg-slate-50"),children:[(0,t.jsx)("div",{className:"font-medium text-slate-800",children:s}),e.context?(0,t.jsx)("div",{className:"text-xs text-slate-500",children:e.context}):null]},e.id+"-"+a)}),0===N.length?(0,t.jsx)("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Aucun r\xe9sultat"}):null]}):null]})}var R=s(6450);function J(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function F(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.replace(/\D/g,"").length>=a}function E(e){if(!/^[0-9]+$/.test(e))return!1;let a=Number(e);return Number.isFinite(a)&&a>=0}let k=()=>({nom:"",prenom:"",civilite:"",situationConjugale:"",adresseActuelle:"",telephone:"",email:"",dateNaissance:"",lieuNaissance:"",situationActuelle:"",preavisADeposer:"",dureePreavise:"",dureePreaviseAutre:"",hebergeParQui:"",profession:"",etablissementFormation:"",employeurNom:"",employeurAdresse:"",employeurTelephone:"",dateEmbauche:"",typeContrat:"",salaire:"",revenusAdditionnels:[],dateFinContrat:"",dureeInscriptionInterim:"",agenceInterim:"",dateDebutActivite:"",regimeRetraite:"",dateDebutRetraite:"",alternance:"",typeAlternance:"",situationActuelleSansEmploi:"",origineRevenuPrincipal:"",origineRevenuPrincipalAutre:""});function D(){let e=(0,l.useRouter)(),[a,s]=(0,r.useState)(1),[D,P]=(0,r.useState)(1),[T,I]=(0,r.useState)(!1),[V,M]=(0,r.useState)([k()]),[z,Y]=(0,r.useState)([{nom:"",prenom:"",email:"",telephone:""}]),[q,$]=(0,r.useState)(!1),[_,G]=(0,r.useState)(!1),[O,B]=(0,r.useState)(!1),[U,W]=(0,r.useState)(null),[H,Z]=(0,r.useState)(!1),[Q,K]=(0,r.useState)(!1),[X,ee]=(0,r.useState)(!1),ea=[{key:"cautionnes",label:"Locataire(s)",index:1},{key:"identite",label:"Identit\xe9",index:2},{key:"profession",label:"Profession",index:3},{key:"recapitulatif",label:"R\xe9capitulatif",index:4}],es=(e,a,s)=>{M(t=>{let r=[...t];return r[e]={...r[e],[a]:s},r})},et=e=>{V.length>1&&M(a=>a.filter((a,s)=>s!==e))},er=(e,a,s)=>{Y(t=>{let r=[...t];return r[e]={...r[e],[a]:s},r})},el=e=>{Y(a=>a.filter((a,s)=>s!==e))},en=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(s?/^[0-9\s]*$/:/^[0-9]*$/).test(e.target.value)&&a(e.target.value)},ei=e=>!e||""===e.trim(),ed=e=>!ei(e.nom)&&!ei(e.prenom)&&J(e.email||"")&&F(e.telephone||"",10),ec=()=>V.every(e=>{let a=!ei(e.prenom)&&!ei(e.nom)&&!ei(e.email)&&!ei(e.telephone),s=J(e.email||""),t=F(e.telephone||"",10);return a&&s&&t}),eo=()=>{if(!ec())return!1;let e=V[0],a=!ei(e.civilite)&&!ei(e.prenom)&&!ei(e.nom)&&!ei(e.email)&&!ei(e.telephone)&&!ei(e.adresseActuelle)&&!ei(e.situationConjugale)&&!ei(e.situationActuelle)&&!ei(e.dateNaissance)&&!ei(e.lieuNaissance),s=J(e.email||""),t=F(e.telephone||"",10);return a&&s&&t},em=()=>{var e;let a=V[0],s={},t=e=>{e&&!E(a.salaire)&&(s.salaire=!0)},r=e=>{e&&!F(a.employeurTelephone||"",10)&&(s.employeurTelephone=!0)};switch(a.typeContrat){case"cdi":case"fonctionnaire":ei(a.employeurNom)&&(s.employeurNom=!0),ei(a.profession)&&(s.profession=!0),ei(a.employeurAdresse)&&(s.employeurAdresse=!0),ei(a.dateEmbauche)&&(s.dateEmbauche=!0),r(!0),t(!0);break;case"cdd":ei(a.employeurNom)&&(s.employeurNom=!0),ei(a.profession)&&(s.profession=!0),ei(a.employeurAdresse)&&(s.employeurAdresse=!0),ei(a.dateFinContrat)&&(s.dateFinContrat=!0),r(!0),t(!0);break;case"interim":ei(a.agenceInterim)&&(s.agenceInterim=!0),ei(a.dureeInscriptionInterim)&&(s.dureeInscriptionInterim=!0),t(!0);break;case"freelance":ei(a.profession)&&(s.profession=!0),ei(a.employeurNom)&&(s.employeurNom=!0),ei(a.employeurAdresse)&&(s.employeurAdresse=!0),ei(a.dateDebutActivite)&&(s.dateDebutActivite=!0),r(!0),t(!0);break;case"retraite":ei(a.regimeRetraite)&&(s.regimeRetraite=!0),ei(a.dateDebutRetraite)&&(s.dateDebutRetraite=!0),t(!0);break;case"etudiant":ei(a.etablissementFormation)&&(s.etablissementFormation=!0),ei(a.alternance)&&(s.alternance=!0),"oui"===a.alternance&&(ei(a.typeAlternance)&&(s.typeAlternance=!0),ei(a.employeurNom)&&(s.employeurNom=!0),ei(a.employeurAdresse)&&(s.employeurAdresse=!0),ei(a.profession)&&(s.profession=!0),ei(a.dateEmbauche)&&(s.dateEmbauche=!0),ei(a.dateFinContrat)&&(s.dateFinContrat=!0),r(!0),t(!0));break;case"sans_emploi":ei(a.situationActuelleSansEmploi)&&(s.situationActuelleSansEmploi=!0),t(!0),ei(a.origineRevenuPrincipal)&&(s.origineRevenuPrincipal=!0),"Autre"===a.origineRevenuPrincipal&&ei(a.origineRevenuPrincipalAutre)&&(s.origineRevenuPrincipalAutre=!0);break;default:s.typeContrat=ei(a.typeContrat)}if(null===(e=a.revenusAdditionnels)||void 0===e?void 0:e.length)for(let e of a.revenusAdditionnels)E(e.montant)||(s["revenu-".concat(e.id)]=!0);return s},ex=(()=>{switch(a){case 1:return"Pour quel locataire vous portez-vous garant ?";case 2:return"Identit\xe9 & Situation (garant)";case 3:return"Situation professionnelle (garant)";case 4:return"R\xe9capitulatif de votre fiche garant";default:return"Fiche garant"}})(),eh=()=>{if(W(null),1===a){if(!ec())return W("Veuillez compl\xe9ter les informations de base pour tous les garants (pr\xe9nom, nom, email, t\xe9l\xe9phone)."),n.oR.error("Veuillez compl\xe9ter les informations de base pour tous les garants."),!1;if(z.length<1||!z.every(ed)){if(B(!0),z.length<1)return W("Veuillez renseigner au moins un locataire."),n.oR.error("Veuillez renseigner au moins un locataire."),!1;let e=z.filter(e=>!ed(e)),a=[];e.forEach((e,s)=>{ei(e.nom)&&a.push("nom du locataire ".concat(s+1)),ei(e.prenom)&&a.push("pr\xe9nom du locataire ".concat(s+1)),ei(e.email)&&a.push("email du locataire ".concat(s+1)),ei(e.telephone)&&a.push("t\xe9l\xe9phone du locataire ".concat(s+1))});let s="Champs manquants : ".concat(a.join(", "),". Veuillez compl\xe9ter toutes les informations des locataires.");return W(s),n.oR.error(s),!1}return!0}if(2===a){if(!eo()){$(!0);let e=[];ei(V[0].civilite)&&e.push("civilit\xe9"),ei(V[0].prenom)&&e.push("pr\xe9nom"),ei(V[0].nom)&&e.push("nom"),ei(V[0].email)&&e.push("email"),ei(V[0].telephone)&&e.push("t\xe9l\xe9phone"),ei(V[0].adresseActuelle)&&e.push("adresse actuelle"),ei(V[0].situationConjugale)&&e.push("situation conjugale"),ei(V[0].situationActuelle)&&e.push("situation actuelle"),ei(V[0].dateNaissance)&&e.push("date de naissance"),ei(V[0].lieuNaissance)&&e.push("lieu de naissance");let a="Champs d'identit\xe9 manquants : ".concat(e.join(", "),". Veuillez compl\xe9ter toutes les informations.");return W(a),n.oR.error(a),!1}return!0}if(3===a&&Object.keys(em()).length>0){G(!0);let e=Object.keys(em()).map(e=>{switch(e){case"employeurNom":return"nom de l'employeur";case"profession":return"profession";case"employeurAdresse":return"adresse de l'employeur";case"dateEmbauche":return"date d'embauche";case"dateFinContrat":return"date de fin de contrat";case"agenceInterim":return"agence d'int\xe9rim";case"dureeInscriptionInterim":return"dur\xe9e d'inscription int\xe9rim";case"regimeRetraite":return"r\xe9gime de retraite";case"dateDebutRetraite":return"date de d\xe9but de retraite";case"etablissementFormation":return"\xe9tablissement de formation";case"alternance":return"alternance";case"typeAlternance":return"type d'alternance";case"dateDebutActivite":return"date de d\xe9but d'activit\xe9";case"situationActuelleSansEmploi":return"situation actuelle";case"origineRevenuPrincipal":return"origine du revenu principal";case"origineRevenuPrincipalAutre":return"pr\xe9cision origine revenu";case"salaire":return"salaire";case"employeurTelephone":return"t\xe9l\xe9phone employeur";default:return e}}),a="Champs professionnels manquants : ".concat(e.join(", "),". Veuillez compl\xe9ter toutes les informations professionnelles.");return W(a),n.oR.error(a),!1}return!0},ep=e=>{if(e<=a){s(e);return}if(e>D){if(!eh())return;let e=Math.min(4,a+1);s(e),P(a=>Math.max(a,e));return}s(e)},eu=async()=>{ee(!0),Z(!1),n.oR.info("Envoi de votre fiche garant...");try{let a={garant:V[0],garants:V,cautionnes:z},s=await fetch("/api/generer-pdf-garant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await s.json();s.ok&&t.success?(n.oR.success(t.message||"Fiche garant envoy\xe9e."),e.push("/locataire/confirmation?email="+encodeURIComponent(V[0].email||""))):n.oR.error(t.message||"Une erreur est survenue.",{description:t.error||"Veuillez r\xe9essayer ult\xe9rieurement."})}catch(e){n.oR.error("Erreur de communication avec le serveur.",{description:"V\xe9rifiez votre connexion et r\xe9essayez."})}finally{ee(!1)}},eg=em();return(0,t.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,t.jsx)(R.p,{show:X,message:"Veuillez patienter… Votre fiche garant est en cours de traitement"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-6 bg-gradient-to-r from-orange-50 via-white to-amber-50 rounded-2xl border border-orange-100 shadow-sm",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-amber-600 rounded-xl shadow-lg",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-amber-700 bg-clip-text text-transparent",children:"Fiche Garant"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm mt-1",children:"Formulaire de cautionnement - ALV Immobilier"})]})]})}),(0,t.jsxs)(d.$,{variant:"ghost",onClick:()=>e.push("/"),className:"group flex items-center gap-3 px-6 py-3 bg-white hover:bg-orange-50 border border-orange-200 hover:border-orange-300 text-orange-700 hover:text-orange-800 shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:[(0,t.jsx)("div",{className:"p-1.5 bg-orange-100 group-hover:bg-orange-200 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,t.jsx)("span",{className:"font-semibold",children:"Retour \xe0 l'accueil"})]})]})}),(0,t.jsx)("div",{className:"md:hidden sticky top-0 z-30 -mt-8 mb-4 bg-white/90 backdrop-blur-md border-b border-slate-200/60 shadow-sm px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.r,{current:a,total:4}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-[8px] text-white font-bold",children:a})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-800",children:["\xc9tape ",a," sur ",4]}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:ex})]})]})}),(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between gap-3",children:[(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(w.Y,{steps:ea,currentStep:a,maxReachedStep:D,title:ex,onSelect:e=>{if(e>D){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ep(e)}})}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsxs)(u.cj,{open:T,onOpenChange:I,children:[(0,t.jsx)(u.CG,{asChild:!0,children:(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:"flex items-center gap-2 bg-white/80 backdrop-blur-sm border-slate-200 hover:bg-white hover:border-slate-300 shadow-sm",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 text-slate-600"}),(0,t.jsx)("span",{className:"text-slate-700 font-medium",children:"\xc9tapes"})]})}),(0,t.jsxs)(u.h,{side:"left",className:"w-[85%] sm:w-[380px] bg-gradient-to-br from-slate-50 to-white",children:[(0,t.jsxs)(u.Fm,{className:"border-b border-slate-200 pb-4",children:[(0,t.jsx)(u.qp,{className:"text-xl font-bold text-slate-800",children:"\xc9tapes de la fiche garant"}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Progression : ",a," sur ",4]})]}),(0,t.jsx)("nav",{"aria-label":"\xc9tapes (mobile)",className:"mt-6 space-y-3",children:ea.map(e=>{let s=e.index<a,r=e.index===a,l=e.index>D;return(0,t.jsxs)("button",{onClick:()=>{if(l){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ep(e.index),I(!1)},"aria-disabled":l,className:(0,i.cn)("w-full text-left flex items-center gap-4 rounded-xl border px-4 py-3 transition-all duration-300","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",l&&"opacity-50 cursor-not-allowed hover:cursor-not-allowed hover:scale-100",s&&"bg-gradient-to-r from-emerald-50 to-emerald-100 border-emerald-200 text-emerald-800 shadow-sm",r&&"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-300 text-orange-800 shadow-md ring-2 ring-orange-200",!s&&!r&&!l&&"bg-white hover:bg-slate-50 border-slate-200 text-slate-700 hover:border-slate-300"),children:[(0,t.jsx)("div",{className:(0,i.cn)("p-2 rounded-lg transition-all duration-300",s&&"bg-emerald-100 text-emerald-700",r&&"bg-orange-100 text-orange-700",!s&&!r&&!l&&"bg-slate-100 text-slate-600",l&&"bg-slate-50 text-slate-400"),children:s?(0,t.jsx)(b.A,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(v.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium block",children:e.label}),r&&(0,t.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"En cours"})]})]},e.key)})})]})]})})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-12",children:[(0,t.jsx)("aside",{className:"md:col-span-4 lg:col-span-3 hidden md:block",children:(0,t.jsxs)("nav",{"aria-label":"\xc9tapes",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"px-3 py-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Fiche Garant"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Progression du formulaire"})]}),(0,t.jsx)(g.nD,{type:"multiple",defaultValue:["bloc"],className:"space-y-3",children:(0,t.jsxs)(g.As,{value:"bloc",className:"border rounded-lg bg-white shadow-sm",children:[(0,t.jsx)(g.$m,{className:"px-3 py-2 hover:no-underline",children:(0,t.jsx)("span",{className:"text-sm font-semibold",children:"\xc9tapes"})}),(0,t.jsx)(g.ub,{className:"px-3 pb-3 pt-0 space-y-3",children:ea.map(e=>{let s=e.index<a,r=e.index===a,l=e.index>D;return(0,t.jsxs)("button",{onClick:()=>{if(l){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ep(e.index)},"aria-disabled":l,className:(0,i.cn)("w-full text-left flex items-center gap-3 rounded-lg border px-4 py-3 transition-all duration-300 group","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",l&&"opacity-50 cursor-not-allowed hover:cursor-not-allowed hover:scale-100",s&&"bg-gradient-to-r from-emerald-50 to-emerald-100 border-emerald-200 text-emerald-800 shadow-sm",r&&"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-300 text-orange-800 shadow-md ring-2 ring-orange-200",!s&&!r&&!l&&"bg-white hover:bg-slate-50 border-slate-200 text-slate-700 hover:border-slate-300"),children:[(0,t.jsx)("div",{className:(0,i.cn)("p-2 rounded-lg transition-all duration-300",s&&"bg-emerald-100 text-emerald-700",r&&"bg-orange-100 text-orange-700",!s&&!r&&!l&&"bg-slate-100 text-slate-600",l&&"bg-slate-50 text-slate-400"),children:s?(0,t.jsx)(b.A,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(v.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium block",children:e.label}),r&&(0,t.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"En cours"})]})]},e.key)})})]})})]})}),(0,t.jsx)("section",{className:"md:col-span-8 lg:col-span-9",children:(0,t.jsxs)(c.Zp,{className:"bg-white border-gray-200 shadow-lg",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{className:"text-2xl font-bold text-gray-800",children:ex}),U&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:U})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[1===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Garant(s)"}),(0,t.jsxs)(d.$,{type:"button",onClick:()=>{if(V.length>=2)return;let e=k();M(a=>[...a,e])},disabled:V.length>=2,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),"Ajouter un garant"]})]}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.A,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,t.jsx)("div",{className:"text-sm",children:"Vous pouvez ajouter jusqu'\xe0 2 garants. Le premier garant sera le garant principal."})]})}),V.map((e,a)=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"font-medium text-slate-700",children:0===a?"Garant principal":"Garant ".concat(a+1)}),V.length>1&&(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>et(a),className:"h-8 w-8 text-red-500 hover:text-red-600","aria-label":"Supprimer garant ".concat(a+1),children:(0,t.jsx)(f.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Pr\xe9nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:e.prenom,onChange:e=>es(a,"prenom",e.target.value),className:"mt-1",maxLength:50})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:e.nom,onChange:e=>es(a,"nom",e.target.value),className:"mt-1",maxLength:50})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["E‑mail ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"email",value:e.email,onChange:e=>es(a,"email",e.target.value),className:"mt-1",maxLength:80})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["T\xe9l\xe9phone ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:e.telephone,onChange:e=>en(e,e=>es(a,"telephone",e),!0),placeholder:"06 12 34 56 78",className:"mt-1",maxLength:15})]})]})]},a))]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Locataire cautionn\xe9"})}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.A,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,t.jsx)("div",{className:"text-sm",children:"Indiquez le locataire pour lequel vous vous portez caution (1 maximum)."})]})}),z.map((e,a)=>{let s=O&&""===e.nom.trim(),r=O&&""===e.prenom.trim(),l=O&&!J(e.email||""),n=O&&!F(e.telephone||"");return(0,t.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"font-medium text-slate-700",children:["Cautionnaire ",a+1]}),z.length>1&&(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>el(a),className:"h-8 w-8 text-red-500 hover:text-red-600","aria-label":"Supprimer cautionnaire ".concat(a+1),children:(0,t.jsx)(f.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Pr\xe9nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:e.prenom,onChange:e=>er(a,"prenom",e.target.value),className:(0,i.cn)("mt-1",r&&"border-red-500 bg-red-50"),maxLength:50,"aria-invalid":r}),r&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:e.nom,onChange:e=>er(a,"nom",e.target.value),className:(0,i.cn)("mt-1",s&&"border-red-500 bg-red-50"),maxLength:50,"aria-invalid":s}),s&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["E‑mail ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"email",value:e.email,onChange:e=>er(a,"email",e.target.value),className:(0,i.cn)("mt-1",l&&"border-red-500 bg-red-50"),maxLength:80,"aria-invalid":l}),l&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Adresse e‑mail invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["T\xe9l\xe9phone ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:e.telephone,onChange:e=>en(e,e=>er(a,"telephone",e),!0),placeholder:"06 12 34 56 78",className:(0,i.cn)("mt-1",n&&"border-red-500 bg-red-50"),maxLength:15,"aria-invalid":n}),n&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide (10 chiffres requis)"})]})]})]},a)})]})]}),2===a&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Civilit\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(x.l6,{value:V[0].civilite,onValueChange:e=>es(0,"civilite",e),children:[(0,t.jsx)(x.bq,{className:(0,i.cn)("mt-1",q&&!V[0].civilite&&"border-red-500 bg-red-50"),children:(0,t.jsx)(x.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"monsieur",children:"Monsieur"}),(0,t.jsx)(x.eb,{value:"madame",children:"Madame"})]})]}),q&&!V[0].civilite&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Pr\xe9nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].prenom,onChange:e=>es(0,"prenom",e.target.value),className:(0,i.cn)("mt-1",q&&!V[0].prenom&&"border-red-500 bg-red-50"),maxLength:50}),q&&!V[0].prenom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].nom,onChange:e=>es(0,"nom",e.target.value),className:(0,i.cn)("mt-1",q&&!V[0].nom&&"border-red-500 bg-red-50"),maxLength:50}),q&&!V[0].nom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["E‑mail ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"email",value:V[0].email,onChange:e=>es(0,"email",e.target.value),className:(0,i.cn)("mt-1",q&&!V[0].email||V[0].email&&!J(V[0].email)?"border-red-500 bg-red-50":""),maxLength:80}),q&&!V[0].email&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"}),V[0].email&&!J(V[0].email)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Adresse e‑mail invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["T\xe9l\xe9phone ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:V[0].telephone,onChange:e=>en(e,e=>es(0,"telephone",e),!0),placeholder:"06 12 34 56 78",className:(0,i.cn)("mt-1",q&&!V[0].telephone||V[0].telephone&&!F(V[0].telephone,10)?"border-red-500 bg-red-50":""),maxLength:15}),q&&!V[0].telephone&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"}),V[0].telephone&&!F(V[0].telephone,10)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide (10 chiffres requis)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de naissance ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"dateNaissance-garant",value:V[0].dateNaissance,onChange:e=>es(0,"dateNaissance",e),fromYear:1900,toYear:new Date().getFullYear(),disableFuture:!0,ariaLabel:"S\xe9lectionner la date de naissance",className:(0,i.cn)("mt-1",q&&!V[0].dateNaissance&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),q&&!V[0].dateNaissance&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Lieu de naissance ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(S,{id:"lieuNaissance-garant",value:V[0].lieuNaissance,onChange:e=>es(0,"lieuNaissance",e),placeholder:"Tapez une ville (ex: Brest) + code postal",className:(0,i.cn)("mt-1",q&&!V[0].lieuNaissance&&"border-red-500 bg-red-50"),ariaInvalid:q&&!V[0].lieuNaissance}),q&&!V[0].lieuNaissance&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Adresse actuelle ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].adresseActuelle,onChange:e=>es(0,"adresseActuelle",e.target.value),className:(0,i.cn)("mt-1",q&&!V[0].adresseActuelle&&"border-red-500 bg-red-50"),maxLength:120}),q&&!V[0].adresseActuelle&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Situation conjugale ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(x.l6,{value:V[0].situationConjugale,onValueChange:e=>es(0,"situationConjugale",e),children:[(0,t.jsx)(x.bq,{className:(0,i.cn)("mt-1",q&&!V[0].situationConjugale&&"border-red-500 bg-red-50"),children:(0,t.jsx)(x.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"celibataire",children:"C\xe9libataire"}),(0,t.jsx)(x.eb,{value:"marie",children:"Mari\xe9(e)"}),(0,t.jsx)(x.eb,{value:"pacs",children:"Pacs\xe9(e)"}),(0,t.jsx)(x.eb,{value:"concubinage",children:"Concubinage"}),(0,t.jsx)(x.eb,{value:"divorce",children:"Divorc\xe9(e)"}),(0,t.jsx)(x.eb,{value:"veuf",children:"Veuf/Veuve"})]})]}),q&&!V[0].situationConjugale&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Statut logement actuel ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(x.l6,{value:V[0].situationActuelle,onValueChange:e=>es(0,"situationActuelle",e),children:[(0,t.jsx)(x.bq,{className:(0,i.cn)("mt-1",q&&!V[0].situationActuelle&&"border-red-500 bg-red-50"),children:(0,t.jsx)(x.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"locataire",children:"Locataire"}),(0,t.jsx)(x.eb,{value:"proprietaire",children:"Propri\xe9taire occupant"}),(0,t.jsx)(x.eb,{value:"heberge_gratuit",children:"H\xe9berg\xe9 \xe0 titre gratuit"}),(0,t.jsx)(x.eb,{value:"loge_employeur",children:"Log\xe9 par un employeur"}),(0,t.jsx)(x.eb,{value:"sans_logement",children:"Sans logement fixe"})]})]}),q&&!V[0].situationActuelle&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]})]})}),3===a&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(m.J,{children:["S\xe9lectionner votre situation professionnelle ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(x.l6,{value:V[0].typeContrat,onValueChange:e=>es(0,"typeContrat",e),children:[(0,t.jsx)(x.bq,{className:(0,i.cn)(_&&eg.typeContrat&&"border-red-500 bg-red-50"),children:(0,t.jsx)(x.yv,{placeholder:"S\xe9lectionner..."})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"cdi",children:"CDI"}),(0,t.jsx)(x.eb,{value:"cdd",children:"CDD"}),(0,t.jsx)(x.eb,{value:"interim",children:"Int\xe9rim"}),(0,t.jsx)(x.eb,{value:"fonctionnaire",children:"Fonctionnaire"}),(0,t.jsx)(x.eb,{value:"freelance",children:"Freelance / Ind\xe9pendant"}),(0,t.jsx)(x.eb,{value:"retraite",children:"Retrait\xe9(e)"}),(0,t.jsx)(x.eb,{value:"etudiant",children:"\xc9tudiant(e)"}),(0,t.jsx)(x.eb,{value:"sans_emploi",children:"Sans emploi"})]})]}),_&&eg.typeContrat&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:"Champ obligatoire"})]}),"cdi"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurNom,onChange:e=>es(0,"employeurNom",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurNom&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.employeurNom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Profession / poste occup\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].profession,onChange:e=>es(0,"profession",e.target.value),className:(0,i.cn)("mt-1",_&&eg.profession&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.profession&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurAdresse,onChange:e=>es(0,"employeurAdresse",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurAdresse&&"border-red-500 bg-red-50"),maxLength:120}),_&&eg.employeurAdresse&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:V[0].employeurTelephone,onChange:e=>en(e,e=>es(0,"employeurTelephone",e),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",_&&eg.employeurTelephone&&"border-red-500 bg-red-50"),maxLength:15}),_&&eg.employeurTelephone&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date d'embauche ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"date-embauche-garant",value:V[0].dateEmbauche,onChange:e=>es(0,"dateEmbauche",e),fromYear:1990,toYear:new Date().getFullYear()+1,ariaLabel:"S\xe9lectionner la date d'embauche",className:(0,i.cn)("mt-1",_&&eg.dateEmbauche&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),_&&eg.dateEmbauche&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50"),maxLength:10}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"cdd"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurNom,onChange:e=>es(0,"employeurNom",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurNom&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.employeurNom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Profession / poste occup\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].profession,onChange:e=>es(0,"profession",e.target.value),className:(0,i.cn)("mt-1",_&&eg.profession&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.profession&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurAdresse,onChange:e=>es(0,"employeurAdresse",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurAdresse&&"border-red-500 bg-red-50"),maxLength:120}),_&&eg.employeurAdresse&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:V[0].employeurTelephone,onChange:e=>en(e,e=>es(0,"employeurTelephone",e),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",_&&eg.employeurTelephone&&"border-red-500 bg-red-50"),maxLength:15}),_&&eg.employeurTelephone&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de fin de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"dateFinContrat-garant",value:V[0].dateFinContrat,onChange:e=>es(0,"dateFinContrat",e),fromYear:1990,toYear:new Date().getFullYear()+2,ariaLabel:"S\xe9lectionner la date de fin de contrat",className:(0,i.cn)("mt-1",_&&eg.dateFinContrat&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),_&&eg.dateFinContrat&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50"),maxLength:10}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"interim"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Agence d'int\xe9rim principale ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].agenceInterim,onChange:e=>es(0,"agenceInterim",e.target.value),className:(0,i.cn)("mt-1",_&&eg.agenceInterim&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.agenceInterim&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Depuis combien de temps \xeates-vous en int\xe9rim ? ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].dureeInscriptionInterim,onChange:e=>es(0,"dureeInscriptionInterim",e.target.value),className:(0,i.cn)("mt-1",_&&eg.dureeInscriptionInterim&&"border-red-500 bg-red-50"),maxLength:60}),_&&eg.dureeInscriptionInterim&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Revenu net mensuel moyen (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50"),maxLength:10}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"fonctionnaire"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'administration / entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurNom,onChange:e=>es(0,"employeurNom",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurNom&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.employeurNom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Profession / poste occup\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].profession,onChange:e=>es(0,"profession",e.target.value),className:(0,i.cn)("mt-1",_&&eg.profession&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.profession&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurAdresse,onChange:e=>es(0,"employeurAdresse",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurAdresse&&"border-red-500 bg-red-50"),maxLength:120}),_&&eg.employeurAdresse&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:V[0].employeurTelephone,onChange:e=>en(e,e=>es(0,"employeurTelephone",e),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",_&&eg.employeurTelephone&&"border-red-500 bg-red-50"),maxLength:15}),_&&eg.employeurTelephone&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date d'embauche ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"date-embauche-fct",value:V[0].dateEmbauche,onChange:e=>es(0,"dateEmbauche",e),fromYear:1990,toYear:new Date().getFullYear()+1,ariaLabel:"S\xe9lectionner la date d'embauche",className:(0,i.cn)("mt-1",_&&eg.dateEmbauche&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),_&&eg.dateEmbauche&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50"),maxLength:10}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"freelance"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Activit\xe9 / m\xe9tier ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].profession,onChange:e=>es(0,"profession",e.target.value),className:(0,i.cn)("mt-1",_&&eg.profession&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.profession&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de la structure ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurNom,onChange:e=>es(0,"employeurNom",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurNom&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.employeurNom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Adresse de la structure ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurAdresse,onChange:e=>es(0,"employeurAdresse",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurAdresse&&"border-red-500 bg-red-50"),maxLength:120}),_&&eg.employeurAdresse&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:V[0].employeurTelephone,onChange:e=>en(e,e=>es(0,"employeurTelephone",e),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",_&&eg.employeurTelephone&&"border-red-500 bg-red-50"),maxLength:15}),_&&eg.employeurTelephone&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de d\xe9but d'activit\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"dateDebutActivite-garant",value:V[0].dateDebutActivite,onChange:e=>es(0,"dateDebutActivite",e),fromYear:1990,toYear:new Date().getFullYear()+1,ariaLabel:"S\xe9lectionner la date de d\xe9but d'activit\xe9",className:(0,i.cn)("mt-1",_&&eg.dateDebutActivite&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),_&&eg.dateDebutActivite&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Revenu net moyen mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50"),maxLength:10}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"retraite"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["R\xe9gime ou caisse principale ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].regimeRetraite,onChange:e=>es(0,"regimeRetraite",e.target.value),className:(0,i.cn)("mt-1",_&&eg.regimeRetraite&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.regimeRetraite&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de d\xe9part \xe0 la retraite ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"dateDebutRetraite-garant",value:V[0].dateDebutRetraite,onChange:e=>es(0,"dateDebutRetraite",e),fromYear:1950,toYear:new Date().getFullYear()+5,ariaLabel:"S\xe9lectionner la date de d\xe9part \xe0 la retraite",className:(0,i.cn)("mt-1",_&&eg.dateDebutRetraite&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),_&&eg.dateDebutRetraite&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Montant de la pension nette mensuelle (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50"),maxLength:10}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"etudiant"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["\xc9tablissement / formation ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].etablissementFormation,onChange:e=>es(0,"etablissementFormation",e.target.value),className:(0,i.cn)("mt-1",_&&eg.etablissementFormation&&"border-red-500 bg-red-50"),maxLength:150}),_&&eg.etablissementFormation&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["\xcates-vous en alternance ? ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(x.l6,{value:V[0].alternance,onValueChange:e=>es(0,"alternance",e),children:[(0,t.jsx)(x.bq,{className:(0,i.cn)("mt-1",_&&eg.alternance&&"border-red-500 bg-red-50"),children:(0,t.jsx)(x.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"oui",children:"Oui"}),(0,t.jsx)(x.eb,{value:"non",children:"Non"})]})]}),_&&eg.alternance&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),"oui"===V[0].alternance&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Type de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(x.l6,{value:V[0].typeAlternance,onValueChange:e=>es(0,"typeAlternance",e),children:[(0,t.jsx)(x.bq,{className:(0,i.cn)("mt-1",_&&eg.typeAlternance&&"border-red-500 bg-red-50"),children:(0,t.jsx)(x.yv,{placeholder:"Ex: Apprentissage, Pro"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"apprentissage",children:"Apprentissage"}),(0,t.jsx)(x.eb,{value:"professionnalisation",children:"Professionnalisation"})]})]}),_&&eg.typeAlternance&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurNom,onChange:e=>es(0,"employeurNom",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurNom&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.employeurNom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].employeurAdresse,onChange:e=>es(0,"employeurAdresse",e.target.value),className:(0,i.cn)("mt-1",_&&eg.employeurAdresse&&"border-red-500 bg-red-50"),maxLength:120}),_&&eg.employeurAdresse&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"tel",value:V[0].employeurTelephone,onChange:e=>en(e,e=>es(0,"employeurTelephone",e),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",_&&eg.employeurTelephone&&"border-red-500 bg-red-50"),maxLength:15}),_&&eg.employeurTelephone&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de d\xe9but de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"dateDebut-garant",value:V[0].dateEmbauche,onChange:e=>es(0,"dateEmbauche",e),fromYear:1990,toYear:new Date().getFullYear()+2,ariaLabel:"S\xe9lectionner la date de d\xe9but de contrat",className:(0,i.cn)("mt-1",_&&eg.dateEmbauche&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),_&&eg.dateEmbauche&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de fin de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(A.l,{id:"dateFin-garant",value:V[0].dateFinContrat,onChange:e=>es(0,"dateFinContrat",e),fromYear:1990,toYear:new Date().getFullYear()+3,ariaLabel:"S\xe9lectionner la date de fin de contrat",className:(0,i.cn)("mt-1",_&&eg.dateFinContrat&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),_&&eg.dateFinContrat&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50")}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]})]}),"sans_emploi"===V[0].typeContrat&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Situation actuelle ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].situationActuelleSansEmploi,onChange:e=>es(0,"situationActuelleSansEmploi",e.target.value),className:(0,i.cn)("mt-1",_&&eg.situationActuelleSansEmploi&&"border-red-500 bg-red-50"),maxLength:150}),_&&eg.situationActuelleSansEmploi&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Ressources mensuelles principales (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{type:"text",value:V[0].salaire,onChange:e=>{let a=e.target.value;/^[0-9]*$/.test(a)&&es(0,"salaire",a)},className:(0,i.cn)("mt-1",_&&eg.salaire&&"border-red-500 bg-red-50"),maxLength:10}),_&&eg.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Origine du revenu principal ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(x.l6,{value:V[0].origineRevenuPrincipal,onValueChange:e=>es(0,"origineRevenuPrincipal",e),children:[(0,t.jsx)(x.bq,{className:(0,i.cn)("mt-1",_&&eg.origineRevenuPrincipal&&"border-red-500 bg-red-50"),children:(0,t.jsx)(x.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsx)(x.gC,{children:["RSA","Indemnit\xe9s ch\xf4mage","Aide familiale","Pension alimentaire","Autre"].map(e=>(0,t.jsx)(x.eb,{value:e,children:e},e))})]}),_&&eg.origineRevenuPrincipal&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),"Autre"===V[0].origineRevenuPrincipal&&(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Pr\xe9cisez la nature du revenu ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(o.p,{value:V[0].origineRevenuPrincipalAutre,onChange:e=>es(0,"origineRevenuPrincipalAutre",e.target.value),className:(0,i.cn)("mt-1",_&&eg.origineRevenuPrincipalAutre&&"border-red-500 bg-red-50"),maxLength:100}),_&&eg.origineRevenuPrincipalAutre&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]})]}),(0,t.jsxs)("div",{className:"pt-8 border-t",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Autres revenus"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Ajoutez vos autres sources de revenus si applicable."})]})]}),4===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2 rounded-lg border bg-white p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center justify-between pb-2 border-b",children:(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Locataire(s) cautionn\xe9(s)"})}),(0,t.jsx)("div",{className:"divide-y divide-slate-100",children:z.map((e,a)=>(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("p",{className:"font-medium text-slate-800",children:["• ",e.prenom," ",e.nom]}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[e.email," — ",e.telephone]})]},a))})]}),(0,t.jsxs)("div",{className:"space-y-2 rounded-lg border bg-white p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center justify-between pb-2 border-b",children:(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Identit\xe9 du garant"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Civilit\xe9:"})," ",V[0].civilite]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Nom/Pr\xe9nom:"})," ",V[0].nom," ",V[0].prenom]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"N\xe9(e) le:"})," ",V[0].dateNaissance]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Lieu de naissance:"})," ",V[0].lieuNaissance]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Email:"})," ",V[0].email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"T\xe9l\xe9phone:"})," ",V[0].telephone]}),(0,t.jsxs)("p",{className:"md:col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Adresse:"})," ",V[0].adresseActuelle]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Situation conjugale:"})," ",V[0].situationConjugale]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Statut logement:"})," ",V[0].situationActuelle]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 rounded-lg border bg-white p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center justify-between pb-2 border-b",children:(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Situation professionnelle"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Type:"})," ",V[0].typeContrat]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Profession:"})," ",V[0].profession]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Employeur:"})," ",V[0].employeurNom]}),(0,t.jsxs)("p",{className:"md:col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Adresse employeur:"})," ",V[0].employeurAdresse]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"T\xe9l\xe9phone employeur:"})," ",V[0].employeurTelephone]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Date d'embauche:"})," ",V[0].dateEmbauche]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Date de fin de contrat:"})," ",V[0].dateFinContrat]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Revenu principal:"})," ",V[0].salaire?"".concat(V[0].salaire," €"):""]})]})]}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.A,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm space-y-2",children:[(0,t.jsx)("p",{className:"font-bold",children:"V\xe9rification avant envoi"}),(0,t.jsx)("p",{children:"Un PDF sera g\xe9n\xe9r\xe9 et transmis \xe0 l'agence et aux locataires concern\xe9s. Vous recevrez une copie par e‑mail."})]})]})})]}),(0,t.jsx)(L.v,{currentStep:a,totalSteps:4,maxReachedStep:D,onPrevious:()=>s(Math.max(1,a-1)),onNext:()=>{if(!eh())return;let e=Math.min(4,a+1);s(e),P(a=>Math.max(a,e))},onStepClick:ep,canGoNext:!0,canGoPrevious:a>1,isLastStep:4===a,onLastStepAction:()=>Z(!0),lastStepButtonText:"Envoyer ma fiche garant",isSubmitting:X})]})]})})]}),(0,t.jsx)(h.lG,{open:H,onOpenChange:Z,children:(0,t.jsxs)(h.Cf,{className:"sm:max-w-md",children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(C.A,{className:"h-5 w-5 text-orange-600"})}),(0,t.jsx)(h.L3,{className:"text-lg",children:"Confirmation d'envoi"})]}),(0,t.jsx)(h.rr,{className:"text-left",children:"Vous \xeates sur le point d'envoyer votre fiche garant \xe0 ALV Immobilier."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg text-sm",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Cette action va :"}),(0,t.jsxs)("ul",{className:"space-y-1 text-slate-700 list-disc list-inside",children:[(0,t.jsx)("li",{children:"G\xe9n\xe9rer automatiquement un PDF de votre fiche garant"}),(0,t.jsx)("li",{children:"L'envoyer \xe0 l'agence et informer le(s) locataire(s) concern\xe9(s)"}),(0,t.jsx)("li",{children:"Vous transmettre une copie par e‑mail"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3 pt-2",children:[(0,t.jsx)(p.S,{id:"confirmation",checked:Q,onCheckedChange:e=>K(!!e),className:"mt-1"}),(0,t.jsx)("label",{htmlFor:"confirmation",className:"text-sm leading-relaxed cursor-pointer",children:"J'atteste l'exactitude des informations communiqu\xe9es."})]})]}),(0,t.jsxs)(h.Es,{className:"flex-col sm:flex-row gap-2 pt-4",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>Z(!1),className:"w-full sm:w-auto bg-transparent",children:"Annuler"}),(0,t.jsx)(d.$,{onClick:eu,disabled:!Q||X,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white",children:X?"Envoi en cours...":"Confirmer l'envoi"})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[63,253,447,576,441,684,977],()=>a(832)),_N_E=e.O()}]);