(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358],{3654:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>et});var t=s(5155),r=s(2115),l=s(5695),n=s(6671),i=s(3999),d=s(7168),o=s(8482),c=s(9852),m=s(2714),u=s(5784),x=s(9840),h=s(5139),p=s(7701),g=s(9428);let j=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.bL,{className:(0,i.cn)("grid gap-2",s),...r,ref:a})});j.displayName=p.bL.displayName;let b=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.q7,{ref:a,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,t.jsx)(p.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});b.displayName=p.q7.displayName;let v=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});v.displayName="Textarea";var N=s(1085),f=s(6490),y=s(6450),C=s(7712),A=s(4616),w=s(9917),S=s(7434),F=s(7550),E=s(5968),L=s(3453),R=s(1007),D=s(7576),J=s(576),k=s(5525),z=s(7924),I=s(4395),P=s(8623),V=s(1243),M=s(2525),q=s(2919),T=s(1284),Y=s(7273),G=s(232),$=s(1264),O=s(7526),_=s(6452),U=s(1455);let B=()=>({nom:"",prenom:"",civilite:"",situationConjugale:"",adresseActuelle:"",telephone:"",email:"",dateNaissance:"",lieuNaissance:"",situationActuelle:"",preavisADeposer:"",dureePreavise:"",dureePreaviseAutre:"",hebergeParQui:"",profession:"",etablissementFormation:"",employeurNom:"",employeurAdresse:"",employeurTelephone:"",dateEmbauche:"",typeContrat:"",salaire:"",revenusAdditionnels:[],dateFinContrat:"",dureeInscriptionInterim:"",agenceInterim:"",dateDebutActivite:"",regimeRetraite:"",dateDebutRetraite:"",alternance:"",typeAlternance:"",situationActuelleSansEmploi:"",origineRevenuPrincipal:"",origineRevenuPrincipalAutre:""}),K={nombreChambres:"",secteurSouhaite:"",rayonKm:"",dateEmmenagement:"",preavisADeposer:"",raisonDemenagement:"",informationsComplementaires:"",loyerMax:""},Q={garantFamilial:"non",garantieVisale:"non",precisionGarant:"",garants:[]},W=e=>{let{value:a,onChange:s}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.$,{type:"button",variant:"outline",size:"icon",onClick:()=>s(Math.max(0,a-1)),className:"h-10 w-10 bg-transparent",children:(0,t.jsx)(C.A,{className:"h-4 w-4"})}),(0,t.jsx)(c.p,{type:"text",readOnly:!0,value:a,className:"w-16 text-center text-lg font-bold"}),(0,t.jsx)(d.$,{type:"button",variant:"outline",size:"icon",onClick:()=>s(a+1),className:"h-10 w-10 bg-transparent",children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})]})},H=e=>{let{title:a,onEdit:s,children:r}=e;return(0,t.jsxs)("div",{className:"space-y-2 rounded-lg border bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between pb-2 border-b",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:a}),(0,t.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2 text-blue-600 hover:bg-blue-50",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),"Modifier"]})]}),(0,t.jsx)("div",{className:"divide-y divide-slate-100",children:r})]})},Z=e=>{let{label:a,value:s}=e,r=null!=s&&""!==String(s).trim()?s:"Non renseign\xe9";return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 py-2",children:[(0,t.jsx)("p",{className:"text-slate-500",children:a}),(0,t.jsx)("p",{className:(0,i.cn)("md:col-span-2 font-medium whitespace-pre-wrap break-words","Non renseign\xe9"===r?"text-slate-400 italic":"text-slate-800"),children:r})]})};function X(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function ee(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.replace(/\D/g,"").length>=a}function ea(e){let a=e.replace(/\D/g,"");return a.length>=10&&a.startsWith("0")}function es(e){if(!/^[0-9]+$/.test(e))return!1;let a=Number(e);return Number.isFinite(a)&&a>=0}function et(){var e;let a=(0,l.useRouter)(),[s,p]=(0,r.useState)(1),[C,w]=(0,r.useState)(1),[et,er]=(0,r.useState)(!1),[el,en]=(0,r.useState)(""),[ei,ed]=(0,r.useState)([B()]),[eo,ec]=(0,r.useState)(0),[em,eu]=(0,r.useState)(K),[ex,eh]=(0,r.useState)(Q),[ep,eg]=(0,r.useState)("non"),[ej,eb]=(0,r.useState)(!1),[ev,eN]=(0,r.useState)(!1),[ef,ey]=(0,r.useState)(!1),[eC,eA]=(0,r.useState)([]),[ew,eS]=(0,r.useState)(!1),[eF,eE]=(0,r.useState)(""),[eL,eR]=(0,r.useState)(""),[eD,eJ]=(0,r.useState)(!1),[ek,ez]=(0,r.useState)(!1),[eI,eP]=(0,r.useState)(!1),[eV,eM]=(0,r.useState)(null),eq=e=>!e||""===e.trim(),eT=2*ei.length,eY=+(ei.length>1),eG=1+eT+eY+1+1+1+1,e$=(()=>{let e=s;if(1===e)return{type:"bien",title:"Informations sur le bien"};if(--e<=eT){let a=Math.floor((e-1)/2),s=(e-1)%2==0,t=ei.length>1?" (Locataire ".concat(a+1,")"):"";return{type:s?"identite":"professionnel",title:"".concat(s?"Identit\xe9 & Situation":"Situation professionnelle").concat(t),subtitle:"Toutes les informations sont obligatoires.",locataireIndex:a}}return(e-=eT,eY&&1===e)?{type:"enfants",title:"Composition du foyer"}:(eY&&e--,1===e)?{type:"garanties",title:"Garanties du dossier",subtitle:"Facultatif, mais fortement recommand\xe9. Un seul garant ou une seule garantie Visale couvre tous les locataires."}:1==--e?{type:"recherche",title:"Votre recherche (facultatif)"}:1==--e?{type:"dossierfacile",title:"Gagnez du temps avec DossierFacile (ou vos pi\xe8ces d\xe9j\xe0 pr\xeates)"}:1==--e?{type:"recapitulatif",title:"R\xe9capitulatif de votre dossier",subtitle:"Veuillez v\xe9rifier vos informations avant de soumettre."}:{type:"unknown",title:"Formulaire"}})(),eO=("identite"===e$.type||"professionnel"===e$.type)&&null!==(e=e$.locataireIndex)&&void 0!==e?e:0,e_=e=>{if(ei.length>1){let a=ei.filter((a,s)=>s!==e);ed(a);let t=1+2*a.length+eY+1+1+1+1;s>t&&p(t),w(e=>Math.min(e,t))}},eU=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(s?/^[0-9\s]*$/:/^[0-9]*$/).test(e.target.value)&&a(e.target.value)},eB=(e,a,s)=>{ed(ei.map((t,r)=>r===e?{...t,[a]:s}:t))},eK=(e,a)=>{eu(s=>({...s,[e]:a}))},eQ=(e,a)=>{eh(s=>({...s,[e]:a}))},eW=async e=>{if(e.length<3){eA([]),eS(!1);return}try{let a=await fetch("https://api-adresse.data.gouv.fr/search/?q=".concat(encodeURIComponent(e),"&limit=5")),s=await a.json();eA(s.features||[]),eS(!0)}catch(e){console.error("Erreur lors de la recherche d'adresses:",e)}},eH=async e=>{if(e.length<2){eA([]),eS(!1);return}try{let a=new URL("https://api-adresse.data.gouv.fr/search/");a.searchParams.set("q",e),a.searchParams.set("type","municipality"),a.searchParams.set("limit","6");let s=await fetch(a.toString()),t=await s.json(),r=Array.isArray(null==t?void 0:t.features)?t.features.filter(e=>{var a,s;return(null==e?void 0:null===(a=e.properties)||void 0===a?void 0:a.type)==="municipality"||(null==e?void 0:null===(s=e.properties)||void 0===s?void 0:s.city)}):[];eA(r),eS(!0)}catch(e){console.error("Erreur lors de la recherche de villes:",e)}},eZ=(e,a)=>{let s=e.properties.label;if(a.startsWith("adresseActuelle-"))eB(Number.parseInt(a.split("-")[1]),"adresseActuelle",s);else if(a.startsWith("employeurAdresse-"))eB(Number.parseInt(a.split("-")[1]),"employeurAdresse",s);else if("secteurSouhaite"===a){let a=(null==e?void 0:e.properties)||{},s=a.city||a.name||a.municipality||"",t=a.postcode||a.postalcode||"";eK("secteurSouhaite","".concat(s).concat(t?" ".concat(t):"").trim())}else if(a.startsWith("lieuNaissance-")){let s=Number.parseInt(a.split("-")[1]),t=(null==e?void 0:e.properties)||{},r=t.city||t.name||t.municipality||"",l=t.postcode||t.postalcode||"";eB(s,"lieuNaissance","".concat(r).concat(l?" ".concat(l):"").trim())}eS(!1),eE("")},eX=["Allocations familiales","CAF","Pension alimentaire","Aide familiale","Autre"],e0=["RSA","Indemnit\xe9s ch\xf4mage","Aide familiale","Pension alimentaire","Autre"],e1=e=>{eh(a=>({...a,garants:(a.garants||[]).filter((a,s)=>s!==e)}))},e5=(e,a,s)=>{eh(t=>{let r=[...t.garants||[]];return r[e]={...r[e],[a]:s},{...t,garants:r}})},e6=e=>""!==e.nom.trim()&&""!==e.prenom.trim()&&X(e.email||"")&&ea(e.telephone||""),e2=(e,a)=>{if(!a)return;let s={id:Date.now().toString(),type:a,montant:"freelance"===a?"800":"investissement"===a?"300":"500",precision:"freelance"===a?"D\xe9veloppement web freelance":"investissement"===a?"Actions et obligations":"Location saisonni\xe8re"};ed(ei.map((a,t)=>t===e?{...a,revenusAdditionnels:[...a.revenusAdditionnels,s]}:a))},e4=(e,a)=>{ed(ei.map((s,t)=>t===e?{...s,revenusAdditionnels:s.revenusAdditionnels.filter(e=>e.id!==a)}:s))},e3=(e,a,s,t)=>{ed(ei.map((r,l)=>l===e?{...r,revenusAdditionnels:r.revenusAdditionnels.map(e=>{if(e.id===a){let a={...e};return"montant"===s?/^[0-9]*$/.test(t)&&(a[s]=t):a[s]=t,a}return e})}:r))},e8=e=>{let a=ei[e],s=!eq(a.civilite)&&!eq(a.prenom)&&!eq(a.nom)&&!eq(a.email)&&!eq(a.telephone)&&!eq(a.adresseActuelle)&&!eq(a.situationConjugale)&&!eq(a.situationActuelle)&&!eq(a.dateNaissance)&&!eq(a.lieuNaissance),t=X(a.email||""),r=ee(a.telephone||"",10);return s&&t&&r},e7=e=>{let a=ei[e],s={},t=e=>{e&&!es(a.salaire)&&(s.salaire=!0)},r=e=>{e&&!ee(a.employeurTelephone||"",10)&&(s.employeurTelephone=!0)};switch(a.typeContrat){case"cdi":case"fonctionnaire":eq(a.employeurNom)&&(s.employeurNom=!0),eq(a.profession)&&(s.profession=!0),eq(a.employeurAdresse)&&(s.employeurAdresse=!0),eq(a.dateEmbauche)&&(s.dateEmbauche=!0),r(!0),t(!0);break;case"cdd":eq(a.employeurNom)&&(s.employeurNom=!0),eq(a.profession)&&(s.profession=!0),eq(a.employeurAdresse)&&(s.employeurAdresse=!0),eq(a.dateEmbauche)&&(s.dateEmbauche=!0),eq(a.dateFinContrat)&&(s.dateFinContrat=!0),r(!0),t(!0);break;case"interim":eq(a.agenceInterim)&&(s.agenceInterim=!0),eq(a.dureeInscriptionInterim)&&(s.dureeInscriptionInterim=!0),t(!0);break;case"freelance":eq(a.profession)&&(s.profession=!0),eq(a.employeurNom)&&(s.employeurNom=!0),eq(a.employeurAdresse)&&(s.employeurAdresse=!0),eq(a.dateDebutActivite)&&(s.dateDebutActivite=!0),r(!0),t(!0);break;case"retraite":eq(a.regimeRetraite)&&(s.regimeRetraite=!0),eq(a.dateDebutRetraite)&&(s.dateDebutRetraite=!0),t(!0);break;case"etudiant":eq(a.etablissementFormation)&&(s.etablissementFormation=!0),eq(a.alternance)&&(s.alternance=!0),"oui"===a.alternance&&(eq(a.typeAlternance)&&(s.typeAlternance=!0),eq(a.employeurNom)&&(s.employeurNom=!0),eq(a.employeurAdresse)&&(s.employeurAdresse=!0),eq(a.profession)&&(s.profession=!0),eq(a.dateEmbauche)&&(s.dateEmbauche=!0),eq(a.dateFinContrat)&&(s.dateFinContrat=!0),r(!0),t(!0));break;case"sans_emploi":eq(a.situationActuelleSansEmploi)&&(s.situationActuelleSansEmploi=!0),t(!0),eq(a.origineRevenuPrincipal)&&(s.origineRevenuPrincipal=!0),"Autre"===a.origineRevenuPrincipal&&eq(a.origineRevenuPrincipalAutre)&&(s.origineRevenuPrincipalAutre=!0);break;default:s.typeContrat=eq(a.typeContrat)}if(a.revenusAdditionnels&&a.revenusAdditionnels.length>0)for(let e of a.revenusAdditionnels)es(e.montant)||(s["revenu-".concat(e.id)]=!0);return s},e9=e=>!eq(ei[e].typeContrat)&&0===Object.keys(e7(e)).length,ae=async()=>{eb(!0),eN(!1),n.oR.info("Envoi de votre dossier en cours...");try{let e=await fetch("/api/generer-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bienConcerne:el,locataires:ei,nombreEnfantsFoyer:eo,criteresRecherche:em,garanties:ex,veutRemplirRecherche:ep,dossierFacileLink:eL})}),s=await e.json();e.ok&&s.success?(n.oR.success(s.message||"Dossier envoy\xe9 avec succ\xe8s !"),a.push("/locataire/confirmation?email="+encodeURIComponent(ei[0].email))):n.oR.error(s.message||"Une erreur est survenue.",{description:s.error||"Veuillez r\xe9essayer ou contacter l'agence."})}catch(e){console.error("Erreur soumission:",e),n.oR.error("Erreur de communication avec le serveur.",{description:"Veuillez v\xe9rifier votre connexion internet et r\xe9essayer."})}finally{eb(!1)}};e$.type;let aa=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(e){case"bien":return 1;case"identite":return 1+2*a+1;case"professionnel":return 1+2*a+2;case"enfants":return 1+eT+1;case"garanties":return 1+eT+eY+1;case"recherche":return 1+eT+eY+1+1;case"dossierfacile":return 1+eT+eY+1+1+1;case"recapitulatif":return eG;default:return s}},as=[{key:"bien",label:"Bien",index:aa("bien")},...ei.flatMap((e,a)=>[{key:"identite-".concat(a),label:ei.length>1?"Identit\xe9 L".concat(a+1):"Identit\xe9",index:aa("identite",a)},{key:"pro-".concat(a),label:ei.length>1?"Profession L".concat(a+1):"Profession",index:aa("professionnel",a)}]),...ei.length>1?[{key:"enfants",label:"Enfants",index:aa("enfants")}]:[],{key:"garanties",label:"Garanties",index:aa("garanties")},{key:"recherche",label:"Recherche",index:aa("recherche")},{key:"dossierfacile",label:"Dossier",index:aa("dossierfacile")},{key:"recapitulatif",label:"R\xe9capitulatif",index:aa("recapitulatif")}];"bien"===e$.type?eq(el):"identite"===e$.type&&"number"==typeof e$.locataireIndex?e8(e$.locataireIndex):"professionnel"===e$.type&&"number"==typeof e$.locataireIndex&&e9(e$.locataireIndex);let at=()=>{if("bien"===e$.type&&eq(el))return n.oR.error("Veuillez renseigner la r\xe9f\xe9rence du bien."),!1;if("identite"===e$.type&&"number"==typeof e$.locataireIndex){let e=e$.locataireIndex;if(!e8(e)){eJ(!0),eM(e);let a=ei[e],s=[];eq(a.civilite)&&s.push("civilit\xe9"),eq(a.prenom)&&s.push("pr\xe9nom"),eq(a.nom)&&s.push("nom"),eq(a.email)&&s.push("email"),eq(a.telephone)&&s.push("t\xe9l\xe9phone"),eq(a.adresseActuelle)&&s.push("adresse actuelle"),eq(a.situationConjugale)&&s.push("situation conjugale"),eq(a.situationActuelle)&&s.push("situation actuelle"),eq(a.dateNaissance)&&s.push("date de naissance"),eq(a.lieuNaissance)&&s.push("lieu de naissance");let t="Champs manquants : ".concat(s.join(", "),". Veuillez compl\xe9ter toutes les informations d'identit\xe9.");return n.oR.error(t),!1}}if("professionnel"===e$.type&&"number"==typeof e$.locataireIndex){let e=e$.locataireIndex;if(!e9(e)){ez(!0),eM(e),ei[e];let a=Object.keys(e7(e)).map(e=>{switch(e){case"employeurNom":return"nom de l'employeur";case"profession":return"profession";case"employeurAdresse":return"adresse de l'employeur";case"dateEmbauche":return"date d'embauche";case"dateFinContrat":return"date de fin de contrat";case"agenceInterim":return"agence d'int\xe9rim";case"dureeInscriptionInterim":return"dur\xe9e d'inscription int\xe9rim";case"regimeRetraite":return"r\xe9gime de retraite";case"dateDebutRetraite":return"date de d\xe9but de retraite";case"etablissementFormation":return"\xe9tablissement de formation";case"alternance":return"alternance";case"typeAlternance":return"type d'alternance";case"dateDebutActivite":return"date de d\xe9but d'activit\xe9";case"situationActuelleSansEmploi":return"situation actuelle";case"origineRevenuPrincipal":return"origine du revenu principal";case"origineRevenuPrincipalAutre":return"pr\xe9cision origine revenu";case"salaire":return"salaire";case"employeurTelephone":return"t\xe9l\xe9phone employeur";default:return e}}),s="Champs professionnels manquants : ".concat(a.join(", "),". Veuillez compl\xe9ter toutes les informations professionnelles.");return n.oR.error(s),!1}}if("garanties"===e$.type&&"oui"===ex.garantFamilial){let e=ex.garants||[];if(0===e.length)return eP(!0),n.oR.error("Veuillez saisir au moins un garant familial (nom, pr\xe9nom, e‑mail et t\xe9l\xe9phone)."),!1;if(!e.every(e6)){eP(!0);let a=e.filter(e=>!e6(e)),s=[];a.forEach((e,a)=>{eq(e.nom)&&s.push("nom du garant ".concat(a+1)),eq(e.prenom)&&s.push("pr\xe9nom du garant ".concat(a+1)),eq(e.email)&&s.push("email du garant ".concat(a+1)),eq(e.telephone)&&s.push("t\xe9l\xe9phone du garant ".concat(a+1))});let t="Informations garant manquantes : ".concat(s.join(", "),". Veuillez compl\xe9ter tous les champs.");return n.oR.error(t),!1}}return eJ(!1),ez(!1),eM(null),!0},ar=e=>{if(e<=s){p(e);return}if(e>C){if(!at())return;let e=Math.min(eG,s+1);p(e),w(a=>Math.max(a,e)),n.oR.info("Continuez pas \xe0 pas. Les \xe9tapes suivantes se d\xe9bloqueront au fur et \xe0 mesure.");return}p(e)},al=as.map(e=>({key:e.key,label:e.label,index:e.index}));return(0,t.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"md:hidden sticky top-0 z-30 -mt-8 mb-4 bg-white/90 backdrop-blur-md border-b border-slate-200/60 shadow-sm px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(_.r,{current:s,total:eG}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-[8px] text-white font-bold",children:s})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-800",children:["\xc9tape ",s," sur ",eG]}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:e$.title})]})]})}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-6 bg-gradient-to-r from-blue-50 via-white to-indigo-50 rounded-2xl border border-blue-100 shadow-sm",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:(0,t.jsx)(S.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-700 bg-clip-text text-transparent",children:"Fiche de renseignement"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm mt-1",children:"Formulaire de candidature locataire - ALV Immobilier"})]})]})}),(0,t.jsxs)(d.$,{onClick:()=>a.push("/"),variant:"outline",size:"lg",className:"group flex items-center gap-3 px-6 py-3 bg-white hover:bg-blue-50 border-blue-200 hover:border-blue-300 text-blue-700 hover:text-blue-800 shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:[(0,t.jsx)("div",{className:"p-1.5 bg-blue-100 group-hover:bg-blue-200 rounded-lg transition-colors",children:(0,t.jsx)(F.A,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsx)("span",{className:"font-semibold",children:"Retour \xe0 l'accueil"})]})]})}),"recapitulatif"!==e$.type&&(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between gap-3",children:[(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(_.Y,{steps:al,currentStep:s,maxReachedStep:C,title:e$.title,onSelect:e=>{if(e>C){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ar(e)}})}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsxs)(N.cj,{open:et,onOpenChange:er,children:[(0,t.jsx)(N.CG,{asChild:!0,children:(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:"flex items-center gap-2 bg-white/80 backdrop-blur-sm border-slate-200 hover:bg-white hover:border-slate-300 shadow-sm",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 text-slate-600"}),(0,t.jsx)("span",{className:"text-slate-700 font-medium",children:"\xc9tapes"})]})}),(0,t.jsxs)(N.h,{side:"left",className:"w-[85%] sm:w-[380px] bg-gradient-to-br from-slate-50 to-white",children:[(0,t.jsxs)(N.Fm,{className:"border-b border-slate-200 pb-4",children:[(0,t.jsx)(N.qp,{className:"text-xl font-bold text-slate-800",children:"\xc9tapes du formulaire"}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Progression : ",s," sur ",eG]})]}),(0,t.jsx)("nav",{"aria-label":"\xc9tapes (mobile)",className:"mt-6 space-y-3",children:as.map(e=>{let a=e.index<s,r=e.index===s,l=e.index>C;return(0,t.jsxs)("button",{onClick:()=>{if(l){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ar(e.index),er(!1)},"aria-disabled":l,className:(0,i.cn)("w-full text-left flex items-center gap-4 rounded-xl border px-4 py-3 transition-all duration-300","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",l&&"opacity-50 cursor-not-allowed hover:cursor-not-allowed hover:scale-100",a&&"bg-gradient-to-r from-emerald-50 to-emerald-100 border-emerald-200 text-emerald-800 shadow-sm",r&&"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-300 text-blue-800 shadow-md ring-2 ring-blue-200",!a&&!r&&!l&&"bg-white hover:bg-slate-50 border-slate-200 text-slate-700 hover:border-slate-300"),children:[(0,t.jsx)("div",{className:(0,i.cn)("p-2 rounded-lg transition-all duration-300",a&&"bg-emerald-100 text-emerald-700",r&&"bg-blue-100 text-blue-700",!a&&!r&&!l&&"bg-slate-100 text-slate-600",l&&"bg-slate-50 text-slate-400"),children:a?(0,t.jsx)(L.A,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(g.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium block",children:e.label}),r&&(0,t.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"En cours"})]})]},e.key)})})]})]})})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-12",children:[(0,t.jsx)("aside",{className:"md:col-span-4 lg:col-span-3 hidden md:block",children:(0,t.jsxs)("nav",{"aria-label":"\xc9tapes du formulaire",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"px-3 py-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Informations personnelles"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Donn\xe9es des locataires"})]}),(0,t.jsx)(f.nD,{type:"multiple",defaultValue:["loc-".concat(eO)],className:"space-y-3",children:ei.map((e,a)=>{let r=aa("identite",a),l=aa("professionnel",a),d=(e,r,l)=>{let d=l<s,o=l===s,c=l>C;return(0,t.jsxs)("button",{onClick:()=>{if(c){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ar(l)},"aria-disabled":c,className:(0,i.cn)("w-full text-left flex items-center gap-3 rounded-lg border px-4 py-3 transition-all duration-300 group","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",c&&"opacity-50 cursor-not-allowed hover:cursor-not-allowed hover:scale-100",d&&"bg-gradient-to-r from-emerald-50 to-emerald-100 border-emerald-200 text-emerald-800 shadow-sm",o&&"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-300 text-blue-800 shadow-md ring-2 ring-blue-200",!d&&!o&&!c&&"bg-white hover:bg-slate-50 border-slate-200 text-slate-700 hover:border-slate-300"),children:[(0,t.jsx)("div",{className:(0,i.cn)("p-2 rounded-lg transition-all duration-300",d&&"bg-emerald-100 text-emerald-700 group-hover:bg-emerald-200",o&&"bg-blue-100 text-blue-700 group-hover:bg-blue-200",!d&&!o&&!c&&"bg-slate-100 text-slate-600 group-hover:bg-slate-200",c&&"bg-slate-50 text-slate-400"),children:d?(0,t.jsx)(L.A,{className:"h-4 w-4","aria-hidden":"true"}):"identite"===e?(0,t.jsx)(R.A,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(D.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:r})]},"".concat(e,"-").concat(a))};return(0,t.jsxs)(f.As,{value:"loc-".concat(a),className:"border-0 rounded-xl bg-gradient-to-br from-slate-50 to-white shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,t.jsx)(f.$m,{className:"px-4 py-3 hover:no-underline rounded-t-xl",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center text-white text-sm font-bold shadow-sm",children:a+1}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-slate-800",children:["Locataire ",a+1]})]})}),(0,t.jsxs)(f.ub,{className:"px-4 pb-4 pt-0 space-y-3",children:[d("identite","Identit\xe9",r),d("professionnel","Profession",l)]})]},"loc-".concat(a))})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"px-3 py-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"\xc9tapes g\xe9n\xe9rales"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Configuration et finalisation"})]}),ei.length>1&&(()=>{let e=aa("enfants"),a=e<s,r=e===s,l=e>C;return(0,t.jsxs)("button",{onClick:()=>{if(l){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ar(e)},"aria-disabled":l,className:(0,i.cn)("w-full text-left flex items-center gap-3 rounded-lg border px-4 py-3 transition-all duration-300 group","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",l&&"opacity-50 cursor-not-allowed hover:cursor-not-allowed hover:scale-100",a&&"bg-gradient-to-r from-emerald-50 to-emerald-100 border-emerald-200 text-emerald-800 shadow-sm",r&&"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-300 text-blue-800 shadow-md ring-2 ring-blue-200",!a&&!r&&!l&&"bg-white hover:bg-slate-50 border-slate-200 text-slate-700 hover:border-slate-300"),children:[(0,t.jsx)("div",{className:(0,i.cn)("p-2 rounded-lg transition-all duration-300",a&&"bg-emerald-100 text-emerald-700 group-hover:bg-emerald-200",r&&"bg-blue-100 text-blue-700 group-hover:bg-blue-200",!a&&!r&&!l&&"bg-slate-100 text-slate-600 group-hover:bg-slate-200",l&&"bg-slate-50 text-slate-400"),children:a?(0,t.jsx)(L.A,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(J.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Enfants"})]})})(),[{key:"garanties",label:"Garanties",icon:k.A},{key:"recherche",label:"Recherche",icon:z.A},{key:"dossierfacile",label:"Dossier",icon:I.A},{key:"recapitulatif",label:"R\xe9capitulatif",icon:P.A}].map(e=>{let a=aa(e.key),r=a<s,l=a===s,d=a>C,o=e.icon;return(0,t.jsxs)("button",{onClick:()=>{if(d){n.oR.info("Veuillez terminer l'\xe9tape en cours avant d'acc\xe9der \xe0 la suivante.");return}ar(a)},"aria-disabled":d,className:(0,i.cn)("w-full text-left flex items-center gap-3 rounded-lg border px-4 py-3 transition-all duration-300 group","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",d&&"opacity-50 cursor-not-allowed hover:cursor-not-allowed hover:scale-100",r&&"bg-gradient-to-r from-emerald-50 to-emerald-100 border-emerald-200 text-emerald-800 shadow-sm",l&&"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-300 text-blue-800 shadow-md ring-2 ring-blue-200",!r&&!l&&!d&&"bg-white hover:bg-slate-50 border-slate-200 text-slate-700 hover:border-slate-300"),children:[(0,t.jsx)("div",{className:(0,i.cn)("p-2 rounded-lg transition-all duration-300",r&&"bg-emerald-100 text-emerald-700 group-hover:bg-emerald-200",l&&"bg-blue-100 text-blue-700 group-hover:bg-blue-200",!r&&!l&&!d&&"bg-slate-100 text-slate-600 group-hover:bg-slate-200",d&&"bg-slate-50 text-slate-400"),children:r?(0,t.jsx)(L.A,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(o,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.key)})]})]})}),(0,t.jsx)("section",{className:"md:col-span-8 lg:col-span-9",children:(0,t.jsxs)(o.Zp,{className:(0,i.cn)("border-gray-200 shadow-lg","recapitulatif"===e$.type?"bg-transparent border-none shadow-none":"bg-white"),children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{className:"text-2xl font-bold text-gray-800",children:e$.title}),"subtitle"in e$&&e$.subtitle&&(0,t.jsx)("p",{className:"text-slate-500",children:e$.subtitle})]}),(0,t.jsxs)(o.Wu,{className:"space-y-6",children:["bien"===e$.type&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{htmlFor:"bien",className:"font-semibold text-gray-700",children:["R\xe9f\xe9rence du bien/location concern\xe9e"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(c.p,{id:"bien",value:el,onChange:e=>en(e.target.value),placeholder:"Ex: R\xe9f. 4105, Maison PLEYBEN 650 €, Appartement Quimper 900€...",className:"mt-2",required:!0,maxLength:50,"aria-invalid":eq(el)}),eq(el)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(m.J,{className:"font-semibold text-gray-700",children:"Nombre de locataires"}),(0,t.jsx)("div",{className:"p-4 bg-amber-50 border-l-4 border-amber-400 text-amber-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(V.A,{className:"h-5 w-5 text-amber-500 mr-3"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold",children:"Merci d'ajouter uniquement les personnes majeures qui seront signataires du bail."}),(0,t.jsx)("p",{className:"text-sm",children:"N'incluez pas les enfants ou les personnes qui n'auront pas \xe0 signer le contrat de location."})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-lg font-medium text-gray-800",children:[ei.length," locataire",ei.length>1?"s":""]}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{ei.length<4&&ed([...ei,B()])},disabled:ei.length>=4,className:"flex items-center gap-2","aria-label":"Ajouter un locataire",children:[(0,t.jsx)(A.A,{className:"h-4 w-4"}),"Ajouter"]}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>e_(ei.length-1),disabled:ei.length<=1,className:"text-gray-600 hover:text-red-600","aria-label":"Retirer le dernier locataire",children:"Retirer"})]})]})]}),"identite"===e$.type&&"number"==typeof e$.locataireIndex&&(()=>{var e,a,s,r;let l=e$.locataireIndex,n=ei[l],o=!eq(n.email)&&!X(n.email),x=!eq(n.telephone)&&!ee(n.telephone,10),h=eD&&eV===l;return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Civilit\xe9"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsxs)(u.l6,{value:n.civilite,onValueChange:e=>{eB(l,"civilite",e)},children:[(0,t.jsx)(u.bq,{className:(0,i.cn)("mt-1",h&&eq(n.civilite)&&"border-red-500 bg-red-50"),"aria-invalid":h&&eq(n.civilite),children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"monsieur",children:"Monsieur"}),(0,t.jsx)(u.eb,{value:"madame",children:"Madame"})]})]}),h&&eq(n.civilite)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{htmlFor:"prenom-".concat(l),children:["Pr\xe9nom"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(c.p,{id:"prenom-".concat(l),value:n.prenom,onChange:e=>eB(l,"prenom",e.target.value),className:(0,i.cn)("mt-1",h&&eq(n.prenom)&&"border-red-500 bg-red-50"),maxLength:30,"aria-invalid":h&&eq(n.prenom)}),h&&eq(n.prenom)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{htmlFor:"nom-".concat(l),children:["Nom"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(c.p,{id:"nom-".concat(l),value:n.nom,onChange:e=>eB(l,"nom",e.target.value),className:(0,i.cn)("mt-1",h&&eq(n.nom)&&"border-red-500 bg-red-50"),maxLength:50,"aria-invalid":h&&eq(n.nom)}),h&&eq(n.nom)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{htmlFor:"email-".concat(l),children:["Email"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(c.p,{id:"email-".concat(l),type:"email",value:n.email,onChange:e=>eB(l,"email",e.target.value),className:(0,i.cn)("mt-1",h&&eq(n.email)||o?"border-red-500 bg-red-50":""),maxLength:60,"aria-invalid":h&&eq(n.email)||o}),h&&eq(n.email)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"}),!eq(n.email)&&o&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Adresse email invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{htmlFor:"telephone-".concat(l),children:["T\xe9l\xe9phone"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(c.p,{id:"telephone-".concat(l),type:"tel",value:n.telephone,onChange:e=>{eU(e,e=>eB(l,"telephone",e),!0)},placeholder:"06 12 34 56 78",className:(0,i.cn)("mt-1",h&&eq(n.telephone)||x?"border-red-500 bg-red-50":""),maxLength:15,"aria-invalid":h&&eq(n.telephone)||x}),h&&eq(n.telephone)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"}),!eq(n.telephone)&&x&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide (10 chiffres requis)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de naissance"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateNaissance-".concat(l),value:n.dateNaissance,onChange:e=>eB(l,"dateNaissance",e),fromYear:1900,toYear:new Date().getFullYear(),disableFuture:!0,ariaLabel:"S\xe9lectionner la date de naissance",className:(0,i.cn)("mt-1",h&&eq(n.dateNaissance)&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),h&&eq(n.dateNaissance)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(m.J,{htmlFor:"lieuNaissance-".concat(l),children:["Lieu de naissance"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(c.p,{id:"lieuNaissance-".concat(l),value:n.lieuNaissance,onChange:e=>{eB(l,"lieuNaissance",e.target.value),eE("lieuNaissance-".concat(l)),eH(e.target.value)},className:(0,i.cn)("mt-1",h&&eq(n.lieuNaissance)&&"border-red-500 bg-red-50"),maxLength:80,placeholder:"Ville ou code postal","aria-invalid":h&&eq(n.lieuNaissance)}),h&&eq(n.lieuNaissance)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"}),ew&&eF==="lieuNaissance-".concat(l)&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((e,a)=>{let s=(null==e?void 0:e.properties)||{},r=s.city||s.name||s.municipality||"",n=s.postcode||s.postalcode||"",i="".concat(r).concat(n?" ".concat(n):"");return(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(e,"lieuNaissance-".concat(l)),children:i||s.label},a)}),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Aucune de ces propositions ? Continuez \xe0 saisir librement."})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,t.jsxs)(m.J,{htmlFor:"adresseActuelle-".concat(l),children:["Adresse actuelle"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsx)(c.p,{id:"adresseActuelle-".concat(l),value:n.adresseActuelle,onChange:e=>{eB(l,"adresseActuelle",e.target.value),eE("adresseActuelle-".concat(l)),eW(e.target.value)},className:(0,i.cn)("mt-1",h&&eq(n.adresseActuelle)&&"border-red-500 bg-red-50"),placeholder:"Commencez \xe0 taper votre adresse...",maxLength:120,"aria-invalid":h&&eq(n.adresseActuelle)}),h&&eq(n.adresseActuelle)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"}),ew&&eF==="adresseActuelle-".concat(l)&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((e,a)=>(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(e,"adresseActuelle-".concat(l)),children:e.properties.label},a)),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Aucune de ces propositions ? Continuez \xe0 saisir votre adresse librement."})]})]}),(0,t.jsx)("div",{className:"md:col-span-2 -mt-2",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[l>0&&(null===(a=ei[0])||void 0===a?void 0:null===(e=a.adresseActuelle)||void 0===e?void 0:e.trim())&&(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>eB(l,"adresseActuelle",ei[0].adresseActuelle),className:"h-8 px-2 text-xs",children:"Copier depuis Locataire 1"}),l>1&&(null===(r=ei[l-1])||void 0===r?void 0:null===(s=r.adresseActuelle)||void 0===s?void 0:s.trim())&&(0,t.jsxs)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>eB(l,"adresseActuelle",ei[l-1].adresseActuelle),className:"h-8 px-2 text-xs",children:["Copier depuis Locataire ",l]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Situation conjugale"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsxs)(u.l6,{value:n.situationConjugale,onValueChange:e=>{eB(l,"situationConjugale",e)},children:[(0,t.jsx)(u.bq,{className:(0,i.cn)("mt-1",h&&eq(n.situationConjugale)&&"border-red-500 bg-red-50"),"aria-invalid":h&&eq(n.situationConjugale),children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"celibataire",children:"C\xe9libataire"}),(0,t.jsx)(u.eb,{value:"marie",children:"Mari\xe9(e)"}),(0,t.jsx)(u.eb,{value:"pacs",children:"Pacs\xe9(e)"}),(0,t.jsx)(u.eb,{value:"concubinage",children:"Concubinage"}),(0,t.jsx)(u.eb,{value:"divorce",children:"Divorc\xe9(e)"}),(0,t.jsx)(u.eb,{value:"veuf",children:"Veuf/Veuve"})]})]}),h&&eq(n.situationConjugale)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Statut logement actuel"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsxs)(u.l6,{value:n.situationActuelle,onValueChange:e=>{eB(l,"situationActuelle",e)},children:[(0,t.jsx)(u.bq,{className:(0,i.cn)("mt-1",h&&eq(n.situationActuelle)&&"border-red-500 bg-red-50"),"aria-invalid":h&&eq(n.situationActuelle),children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"locataire",children:"Locataire"}),(0,t.jsx)(u.eb,{value:"proprietaire",children:"Propri\xe9taire occupant"}),(0,t.jsx)(u.eb,{value:"heberge_gratuit",children:"H\xe9berg\xe9 \xe0 titre gratuit"}),(0,t.jsx)(u.eb,{value:"loge_employeur",children:"Log\xe9 par un employeur"}),(0,t.jsx)(u.eb,{value:"sans_logement",children:"Sans logement fixe"})]})]}),h&&eq(n.situationActuelle)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]})]}),1===ei.length&&(0,t.jsxs)("div",{className:"pt-6 border-t",children:[(0,t.jsx)(m.J,{className:"font-semibold text-gray-700",children:"Nombre d'enfants \xe0 charge"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Combien d'enfants \xe0 charge dans le foyer ?"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(W,{value:eo,onChange:ec})})]})]})})(),"professionnel"===e$.type&&"number"==typeof e$.locataireIndex&&(()=>{let e=e$.locataireIndex,a=ei[e],s=e7(e),r=ek&&eV===e,l=e=>r&&s[e],n="Num\xe9ro invalide (10 chiffres minimum)";return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(m.J,{htmlFor:"situation-pro-".concat(e),children:["S\xe9lectionner votre situation professionnelle"," ",(0,t.jsx)("span",{className:"text-red-600","aria-hidden":"true",children:"*"})]}),(0,t.jsxs)(u.l6,{value:a.typeContrat,onValueChange:a=>{eB(e,"typeContrat",a)},children:[(0,t.jsx)(u.bq,{id:"situation-pro-".concat(e),className:(0,i.cn)(l("typeContrat")&&"border-red-500 bg-red-50"),"aria-invalid":l("typeContrat"),children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner..."})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"cdi",children:"CDI"}),(0,t.jsx)(u.eb,{value:"cdd",children:"CDD"}),(0,t.jsx)(u.eb,{value:"interim",children:"Int\xe9rim"}),(0,t.jsx)(u.eb,{value:"fonctionnaire",children:"Fonctionnaire"}),(0,t.jsx)(u.eb,{value:"freelance",children:"Freelance / Ind\xe9pendant"}),(0,t.jsx)(u.eb,{value:"retraite",children:"Retrait\xe9(e)"}),(0,t.jsx)(u.eb,{value:"etudiant",children:"\xc9tudiant(e)"}),(0,t.jsx)(u.eb,{value:"sans_emploi",children:"Sans emploi"})]})]}),r&&eq(a.typeContrat)&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:"Champ obligatoire"})]}),"cdi"===a.typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurNom,onChange:a=>{eB(e,"employeurNom",a.target.value)},placeholder:"Ex: Carrefour, CHU de Quimper…",className:(0,i.cn)("mt-1",l("employeurNom")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("employeurNom")}),l("employeurNom")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Profession / poste occup\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.profession,onChange:a=>{eB(e,"profession",a.target.value)},placeholder:"Ex: Vendeur(se), Enseignant(e)…",className:(0,i.cn)("mt-1",l("profession")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("profession")}),l("profession")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurAdresse,onChange:a=>{eB(e,"employeurAdresse",a.target.value),eE("employeurAdresse-".concat(e)),eW(a.target.value)},placeholder:"Ex: 12 rue du Stade, 29000 Quimper",className:(0,i.cn)("mt-1",l("employeurAdresse")&&"border-red-500 bg-red-50"),maxLength:120,"aria-invalid":l("employeurAdresse")}),ew&&eF==="employeurAdresse-".concat(e)&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((a,s)=>(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(a,"employeurAdresse-".concat(e)),children:a.properties.label},s)),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Aucune de ces propositions ? Continuez \xe0 saisir votre adresse librement."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"tel",value:a.employeurTelephone,onChange:a=>eU(a,a=>eB(e,"employeurTelephone",a),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",l("employeurTelephone")&&"border-red-500 bg-red-50"),maxLength:15,"aria-invalid":l("employeurTelephone")}),l("employeurTelephone")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:n})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date d'embauche ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateEmbauche-".concat(e),value:a.dateEmbauche,onChange:a=>eB(e,"dateEmbauche",a),fromYear:1990,toYear:new Date().getFullYear()+1,ariaLabel:"S\xe9lectionner la date d'embauche",className:(0,i.cn)("mt-1",l("dateEmbauche")&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),l("dateEmbauche")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},className:(0,i.cn)("mt-1",l("salaire")&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":l("salaire")}),l("salaire")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"cdd"===a.typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurNom,onChange:a=>{eB(e,"employeurNom",a.target.value)},className:(0,i.cn)("mt-1",l("employeurNom")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("employeurNom")}),l("employeurNom")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Profession / poste occup\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.profession,onChange:a=>{eB(e,"profession",a.target.value)},placeholder:"Ex: Serveur(se), Ouvrier(\xe8re)…",className:(0,i.cn)("mt-1",l("profession")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("profession")}),l("profession")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'entreprise / administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurAdresse,onChange:a=>{eB(e,"employeurAdresse",a.target.value),eE("employeurAdresse-".concat(e)),eW(a.target.value)},className:(0,i.cn)("mt-1",l("employeurAdresse")&&"border-red-500 bg-red-50"),maxLength:120,"aria-invalid":l("employeurAdresse"),placeholder:"Commencez \xe0 taper l'adresse de l'entreprise…"}),ew&&eF==="employeurAdresse-".concat(e)&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((a,s)=>(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(a,"employeurAdresse-".concat(e)),children:a.properties.label},s)),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Aucune de ces propositions ? Continuez \xe0 saisir votre adresse librement."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"tel",value:a.employeurTelephone,onChange:a=>eU(a,a=>eB(e,"employeurTelephone",a),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",l("employeurTelephone")&&"border-red-500 bg-red-50"),maxLength:15,"aria-invalid":l("employeurTelephone")}),l("employeurTelephone")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:n})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date d'embauche ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateEmbauche-".concat(e),value:a.dateEmbauche,onChange:a=>eB(e,"dateEmbauche",a),fromYear:1990,toYear:new Date().getFullYear()+2,ariaLabel:"S\xe9lectionner la date d'embauche",className:(0,i.cn)("mt-1",l("dateEmbauche")&&"ring-1 ring-red-500 rounded-md"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),l("dateEmbauche")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de fin de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateFinContrat-".concat(e),value:a.dateFinContrat,onChange:a=>eB(e,"dateFinContrat",a),fromYear:1990,toYear:new Date().getFullYear()+2,ariaLabel:"S\xe9lectionner la date de fin de contrat",className:(0,i.cn)("mt-1",l("dateFinContrat")&&"ring-1 ring-red-500 rounded-md"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),l("dateFinContrat")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},className:(0,i.cn)("mt-1",l("salaire")&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":l("salaire")}),l("salaire")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"interim"===a.typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Agence d'int\xe9rim principale ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.agenceInterim,onChange:a=>{eB(e,"agenceInterim",a.target.value)},placeholder:"Ex: Manpower, Adecco…",className:(0,i.cn)("mt-1",l("agenceInterim")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("agenceInterim")}),l("agenceInterim")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Depuis combien de temps \xeates-vous en int\xe9rim ? ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.dureeInscriptionInterim,onChange:a=>{eB(e,"dureeInscriptionInterim",a.target.value)},placeholder:"Ex: 18 mois, Depuis janvier 2023…",className:(0,i.cn)("mt-1",l("dureeInscriptionInterim")&&"border-red-500 bg-red-50"),maxLength:50,"aria-invalid":l("dureeInscriptionInterim")}),l("dureeInscriptionInterim")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Revenu net mensuel moyen (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},placeholder:"Ex: 1400",className:(0,i.cn)("mt-1",l("salaire")&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":l("salaire")}),l("salaire")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"fonctionnaire"===a.typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'administration / entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurNom,onChange:a=>{eB(e,"employeurNom",a.target.value)},placeholder:"Ex: Mairie de Quimper, CHU de Quimper…",className:(0,i.cn)("mt-1",l("employeurNom")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("employeurNom")}),l("employeurNom")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Profession / poste occup\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.profession,onChange:a=>{eB(e,"profession",a.target.value)},placeholder:"Ex: Enseignant(e), Infirmier(\xe8re)…",className:(0,i.cn)("mt-1",l("profession")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("profession")}),l("profession")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurAdresse,onChange:a=>{eB(e,"employeurAdresse",a.target.value),eE("employeurAdresse-".concat(e)),eW(a.target.value)},className:(0,i.cn)("mt-1",l("employeurAdresse")&&"border-red-500 bg-red-50"),maxLength:120,"aria-invalid":l("employeurAdresse"),placeholder:"Commencez \xe0 taper l'adresse de l'administration…"}),ew&&eF==="employeurAdresse-".concat(e)&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((a,s)=>(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(a,"employeurAdresse-".concat(e)),children:a.properties.label},s)),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Aucune de ces propositions ? Continuez \xe0 saisir votre adresse librement."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'administration ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"tel",value:a.employeurTelephone,onChange:a=>eU(a,a=>eB(e,"employeurTelephone",a),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",l("employeurTelephone")&&"border-red-500 bg-red-50"),maxLength:15,"aria-invalid":l("employeurTelephone")}),l("employeurTelephone")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:n})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date d'embauche ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateEmbauche-".concat(e),value:a.dateEmbauche,onChange:a=>eB(e,"dateEmbauche",a),fromYear:1990,toYear:new Date().getFullYear()+1,ariaLabel:"S\xe9lectionner la date d'embauche",className:(0,i.cn)("mt-1",l("dateEmbauche")&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),l("dateEmbauche")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},className:(0,i.cn)("mt-1",l("salaire")&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":l("salaire")}),l("salaire")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"freelance"===a.typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Activit\xe9 / m\xe9tier ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.profession,onChange:a=>{eB(e,"profession",a.target.value)},placeholder:"Ex: Graphiste, Plombier…",className:(0,i.cn)("mt-1",l("profession")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("profession")}),l("profession")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de la structure ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurNom,onChange:a=>{eB(e,"employeurNom",a.target.value)},placeholder:"Ex: SARL Dubois",className:(0,i.cn)("mt-1",l("employeurNom")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("employeurNom")}),l("employeurNom")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,t.jsxs)(m.J,{children:["Adresse de la structure ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurAdresse,onChange:a=>{eB(e,"employeurAdresse",a.target.value),eE("employeurAdresse-".concat(e)),eW(a.target.value)},className:(0,i.cn)("mt-1",l("employeurAdresse")&&"border-red-500 bg-red-50"),maxLength:120,"aria-invalid":l("employeurAdresse"),placeholder:"Commencez \xe0 taper l'adresse (num\xe9ro + rue + ville)…"}),ew&&eF==="employeurAdresse-".concat(e)&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((a,s)=>(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(a,"employeurAdresse-".concat(e)),children:a.properties.label},s)),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Aucune de ces propositions ? Continuez \xe0 saisir votre adresse librement."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"tel",value:a.employeurTelephone,onChange:a=>eU(a,a=>eB(e,"employeurTelephone",a),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",l("employeurTelephone")&&"border-red-500 bg-red-50"),maxLength:15,"aria-invalid":l("employeurTelephone")}),l("employeurTelephone")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:n})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de d\xe9but d'activit\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateDebutActivite-".concat(e),value:a.dateDebutActivite,onChange:a=>eB(e,"dateDebutActivite",a),fromYear:1990,toYear:new Date().getFullYear()+1,ariaLabel:"S\xe9lectionner la date de d\xe9but d'activit\xe9",className:(0,i.cn)("mt-1",l("dateDebutActivite")&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),l("dateDebutActivite")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Revenu net moyen mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},className:(0,i.cn)("mt-1",l("salaire")&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":l("salaire")}),l("salaire")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"retraite"===a.typeContrat&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["R\xe9gime ou caisse principale ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.regimeRetraite,onChange:a=>{eB(e,"regimeRetraite",a.target.value)},placeholder:"Ex: S\xe9curit\xe9 Sociale, Agirc-Arrco…",className:(0,i.cn)("mt-1",l("regimeRetraite")&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":l("regimeRetraite")}),l("regimeRetraite")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de d\xe9part \xe0 la retraite ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateDebutRetraite-".concat(e),value:a.dateDebutRetraite,onChange:a=>eB(e,"dateDebutRetraite",a),fromYear:1950,toYear:new Date().getFullYear()+5,ariaLabel:"S\xe9lectionner la date de d\xe9part \xe0 la retraite",className:(0,i.cn)("mt-1",l("dateDebutRetraite")&&"ring-1 ring-red-500 rounded-md"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),l("dateDebutRetraite")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Montant de la pension nette mensuelle (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},className:(0,i.cn)("mt-1",l("salaire")&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":l("salaire")}),l("salaire")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]}),"etudiant"===a.typeContrat&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["\xc9tablissement / formation ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.etablissementFormation,onChange:a=>{eB(e,"etablissementFormation",a.target.value)},placeholder:"Ex: Universit\xe9 de Rennes, BTS Comptabilit\xe9…",className:(0,i.cn)("mt-1",r&&s.etablissementFormation&&"border-red-500 bg-red-50"),maxLength:150,"aria-invalid":r&&s.etablissementFormation}),r&&s.etablissementFormation&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["\xcates-vous en alternance ? ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(u.l6,{value:a.alternance,onValueChange:a=>{eB(e,"alternance",a)},children:[(0,t.jsx)(u.bq,{className:(0,i.cn)("mt-1",r&&s.alternance&&"border-red-500 bg-red-50"),children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"oui",children:"Oui"}),(0,t.jsx)(u.eb,{value:"non",children:"Non"})]})]}),r&&s.alternance&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),"oui"===a.alternance&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Type de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(u.l6,{value:a.typeAlternance,onValueChange:a=>{eB(e,"typeAlternance",a)},children:[(0,t.jsx)(u.bq,{className:(0,i.cn)("mt-1",r&&s.typeAlternance&&"border-red-500 bg-red-50"),"aria-invalid":r&&s.typeAlternance,children:(0,t.jsx)(u.yv,{placeholder:"Ex: Apprentissage, Pro"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"apprentissage",children:"Apprentissage"}),(0,t.jsx)(u.eb,{value:"professionnalisation",children:"Professionnalisation"})]})]}),r&&s.typeAlternance&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurNom,onChange:a=>{eB(e,"employeurNom",a.target.value)},className:(0,i.cn)("mt-1",r&&s.employeurNom&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":r&&s.employeurNom}),r&&s.employeurNom&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,t.jsxs)(m.J,{children:["Adresse de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.employeurAdresse,onChange:a=>{eB(e,"employeurAdresse",a.target.value),eE("employeurAdresse-".concat(e)),eW(a.target.value)},className:(0,i.cn)("mt-1",r&&s.employeurAdresse&&"border-red-500 bg-red-50"),maxLength:120,"aria-invalid":r&&s.employeurAdresse,placeholder:"Commencez \xe0 taper l'adresse de l'entreprise…"}),ew&&eF==="employeurAdresse-".concat(e)&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((a,s)=>(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(a,"employeurAdresse-".concat(e)),children:a.properties.label},s)),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Aucune de ces propositions ? Continuez \xe0 saisir votre adresse librement."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Num\xe9ro de t\xe9l\xe9phone de l'entreprise ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"tel",value:a.employeurTelephone,onChange:a=>eU(a,a=>eB(e,"employeurTelephone",a),!0),placeholder:"01 23 45 67 89",className:(0,i.cn)("mt-1",r&&s.employeurTelephone&&"border-red-500 bg-red-50"),maxLength:15,"aria-invalid":r&&s.employeurTelephone}),r&&s.employeurTelephone&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:n})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Profession / poste occup\xe9 ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.profession,onChange:a=>{eB(e,"profession",a.target.value)},className:(0,i.cn)("mt-1",r&&s.profession&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":r&&s.profession}),r&&s.profession&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de d\xe9but de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateDebut-".concat(e),value:a.dateEmbauche,onChange:a=>eB(e,"dateEmbauche",a),fromYear:1990,toYear:new Date().getFullYear()+2,ariaLabel:"S\xe9lectionner la date de d\xe9but de contrat",className:(0,i.cn)("mt-1",r&&s.dateEmbauche&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),r&&s.dateEmbauche&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Date de fin de contrat ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(O.l,{id:"dateFin-".concat(e),value:a.dateFinContrat,onChange:a=>eB(e,"dateFinContrat",a),fromYear:1990,toYear:new Date().getFullYear()+3,ariaLabel:"S\xe9lectionner la date de fin de contrat",className:(0,i.cn)("mt-1",r&&s.dateFinContrat&&"ring-1 ring-red-500 rounded"),placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"}),r&&s.dateFinContrat&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{children:["Salaire net mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},className:(0,i.cn)("mt-1",l("salaire")&&"border-red-500 bg-red-50"),"aria-invalid":l("salaire")}),l("salaire")&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]})]}),"sans_emploi"===a.typeContrat&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Situation actuelle ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.situationActuelleSansEmploi,onChange:a=>{eB(e,"situationActuelleSansEmploi",a.target.value)},placeholder:"Ex: \xc0 la recherche d'un emploi, en reconversion…",className:(0,i.cn)("mt-1",r&&s.situationActuelleSansEmploi&&"border-red-500 bg-red-50"),maxLength:150,"aria-invalid":r&&s.situationActuelleSansEmploi}),r&&s.situationActuelleSansEmploi&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Ressources mensuelles principales (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.salaire,onChange:a=>{eU(a,a=>eB(e,"salaire",a))},placeholder:"Ex: 800",className:(0,i.cn)("mt-1",r&&s.salaire&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":r&&s.salaire}),r&&s.salaire&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Origine du revenu principal ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(u.l6,{value:a.origineRevenuPrincipal,onValueChange:a=>{eB(e,"origineRevenuPrincipal",a)},children:[(0,t.jsx)(u.bq,{className:(0,i.cn)("mt-1",r&&s.origineRevenuPrincipal&&"border-red-500 bg-red-50"),children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsx)(u.gC,{children:e0.map(e=>(0,t.jsx)(u.eb,{value:e,children:e},e))})]}),r&&s.origineRevenuPrincipal&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),"Autre"===a.origineRevenuPrincipal&&(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Pr\xe9cisez la nature du revenu ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.origineRevenuPrincipalAutre,onChange:a=>{eB(e,"origineRevenuPrincipalAutre",a.target.value)},className:(0,i.cn)("mt-1",r&&s.origineRevenuPrincipalAutre&&"border-red-500 bg-red-50"),maxLength:100,"aria-invalid":r&&s.origineRevenuPrincipalAutre}),r&&s.origineRevenuPrincipalAutre&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]})]}),(0,t.jsxs)("div",{className:"pt-8 border-t",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Autres revenus"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Ajoutez vos autres sources de revenus et indiquez le montant mensuel per\xe7u."}),(0,t.jsx)("div",{className:"space-y-4 mt-4",children:a.revenusAdditionnels.map(a=>{let s=!es(a.montant);return(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"font-medium text-slate-700",children:a.type}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>e4(e,a.id),className:"h-8 w-8 text-red-500 hover:text-red-600","aria-label":"Supprimer ce revenu",children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Indiquez le montant mensuel net de cette source de revenu."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Autre"===a.type&&(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Pr\xe9cisez la nature du revenu ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:a.precision,onChange:s=>e3(e,a.id,"precision",s.target.value),className:(0,i.cn)("mt-1",r&&eq(a.precision)&&"border-red-500 bg-red-50"),maxLength:100}),r&&eq(a.precision)&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Montant mensuel (€) ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"text",value:a.montant,onChange:s=>eU(s,s=>e3(e,a.id,"montant",s)),placeholder:"Ex: 150",className:(0,i.cn)("mt-1",r&&s&&"border-red-500 bg-red-50"),maxLength:10,"aria-invalid":r&&s}),r&&s&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Le montant doit \xeatre un nombre entier ≥ 0"})]})]})]},a.id)})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(u.l6,{onValueChange:a=>e2(e,a),value:"",children:[(0,t.jsx)(u.bq,{className:"w-full md:w-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"h-4 w-4"}),(0,t.jsx)(u.yv,{placeholder:"Ajouter un autre revenu"})]})}),(0,t.jsx)(u.gC,{children:eX.map(e=>(0,t.jsx)(u.eb,{value:e,children:e},e))})]})})]})]})})(),"enfants"===e$.type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(m.J,{className:"font-semibold text-gray-700",children:"Nombre d'enfants \xe0 charge"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Combien d'enfants au total seront \xe0 votre charge ?"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(W,{value:eo,onChange:ec})})]}),"garanties"===e$.type&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"p-4 bg-amber-50 border-l-4 border-amber-400 text-amber-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(q.A,{className:"h-5 w-5 text-amber-500 mr-3"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold",children:"Conseil"}),(0,t.jsxs)("p",{className:"text-sm",children:["Si vos revenus sont ","<"," 3 fois le loyer, pensez \xe0 fournir une garantie pour renforcer votre dossier."]})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Avez-vous la possibilit\xe9 de pr\xe9senter l'une des garanties suivantes ?"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 -mt-4",children:"(Plusieurs choix possibles)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{className:"font-medium",children:"Un garant familial (parent, fr\xe8re, sœur, etc.)"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Couvre l'ensemble des locataires."}),(0,t.jsxs)(j,{value:ex.garantFamilial,onValueChange:e=>eQ("garantFamilial",e),className:"flex items-center space-x-4 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{value:"oui",id:"garant-oui"}),(0,t.jsx)(m.J,{htmlFor:"garant-oui",children:"Oui"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{value:"non",id:"garant-non"}),(0,t.jsx)(m.J,{htmlFor:"garant-non",children:"Non"})]})]}),"oui"===ex.garantFamilial&&(0,t.jsxs)("div",{className:"pl-1 pt-2 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-800",children:"Coordonn\xe9es du (des) garant(s)"}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{if(ex.garants.length>=2)return;let e=0===ex.garants.length?{nom:"Dubois",prenom:"Claire",email:"claire.dubois@email.com",telephone:"0656789012"}:{nom:"",prenom:"",email:"",telephone:""};eh(a=>({...a,garants:[...a.garants||[],e]}))},disabled:(ex.garants||[]).length>=2,className:"bg-transparent",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Ajouter un garant"]})]}),(ex.garants||[]).map((e,a)=>{let s=eI&&""===e.nom.trim(),r=eI&&""===e.prenom.trim(),l=eI&&!X(e.email||""),n=eI&&!ea(e.telephone||"");return(0,t.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"font-medium text-slate-700",children:["Garant ",a+1]}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>e1(a),className:"h-8 w-8 text-red-500 hover:text-red-600","aria-label":"Supprimer le garant ".concat(a+1),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Pr\xe9nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:e.prenom,onChange:e=>e5(a,"prenom",e.target.value),className:(0,i.cn)("mt-1",r&&"border-red-500 bg-red-50"),"aria-invalid":r,maxLength:50}),r&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["Nom ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{value:e.nom,onChange:e=>e5(a,"nom",e.target.value),className:(0,i.cn)("mt-1",s&&"border-red-500 bg-red-50"),"aria-invalid":s,maxLength:50}),s&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Champ obligatoire"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["E‑mail ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"email",value:e.email,onChange:e=>e5(a,"email",e.target.value),className:(0,i.cn)("mt-1",l&&"border-red-500 bg-red-50"),"aria-invalid":l,maxLength:80}),l&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Adresse e‑mail invalide"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{children:["T\xe9l\xe9phone ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(c.p,{type:"tel",value:e.telephone,onChange:e=>eU(e,e=>e5(a,"telephone",e),!0),placeholder:"06 12 34 56 78",className:(0,i.cn)("mt-1",n&&"border-red-500 bg-red-50"),"aria-invalid":n,maxLength:15}),n&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Num\xe9ro invalide (10 chiffres requis)"})]})]})]},a)}),0===(ex.garants||[]).length&&eI&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:"Au moins un garant est requis."})]})]}),"oui"===ex.garantFamilial&&(0,t.jsxs)("div",{className:"pl-6 pt-2 space-y-2",children:[(0,t.jsxs)(m.J,{htmlFor:"precision-garant",children:["Souhaitez-vous ajouter une pr\xe9cision ?"," ",(0,t.jsx)("span",{className:"ml-1 text-slate-400 text-xs",children:"(facultatif)"})]}),(0,t.jsx)(v,{id:"precision-garant",value:ex.precisionGarant,onChange:e=>eh(a=>({...a,precisionGarant:e.target.value})),placeholder:"Ex : Mon p\xe8re, cadre sup, sera garant.",className:"mt-1",maxLength:150}),(0,t.jsxs)("p",{className:"text-xs text-right text-slate-500 mt-1",children:[ex.precisionGarant.length," / 150"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{className:"font-medium",children:"Garantie Visale"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Couvre l'ensemble des locataires."}),(0,t.jsxs)(j,{value:ex.garantieVisale,onValueChange:e=>eQ("garantieVisale",e),className:"flex items-center space-x-4 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{value:"oui",id:"visale-oui"}),(0,t.jsx)(m.J,{htmlFor:"visale-oui",children:"Oui"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{value:"non",id:"visale-non"}),(0,t.jsx)(m.J,{htmlFor:"visale-non",children:"Non"})]})]})]})]}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(T.A,{className:"h-5 w-5 text-blue-500 mr-3"})}),(0,t.jsxs)("div",{className:"text-sm space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-bold",children:"Garantie Visale :"})," caution gratuite propos\xe9e par Action Logement. V\xe9rifiez votre \xe9ligibilit\xe9 sur"," ",(0,t.jsx)("a",{href:"https://visale.fr",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"visale.fr"}),"."]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-bold",children:"Cautionnaire familial :"})," un membre de votre famille qui accepte de se porter garant."]})]})]})})]}),"recherche"===e$.type&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(Y.A,{className:"h-5 w-5 text-blue-500 mr-3"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold",children:"Section facultative"}),(0,t.jsx)("p",{className:"text-sm",children:"Ces informations aident \xe0 mieux cibler les biens qui vous correspondent."})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{className:"font-medium",children:"Souhaitez-vous remplir vos crit\xe8res de recherche ?"}),(0,t.jsxs)(j,{value:ep,onValueChange:e=>eg(e),className:"flex items-center space-x-4 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{value:"oui",id:"recherche-oui"}),(0,t.jsx)(m.J,{htmlFor:"recherche-oui",children:"Oui"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{value:"non",id:"recherche-non"}),(0,t.jsx)(m.J,{htmlFor:"recherche-non",children:"Non"})]})]})]}),"oui"===ep&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(m.J,{htmlFor:"nombreChambres",children:"Nombre de chambres minimum"}),(0,t.jsxs)(u.l6,{value:em.nombreChambres,onValueChange:e=>eK("nombreChambres",e),children:[(0,t.jsx)(u.bq,{id:"nombreChambres",className:"mt-1",children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"1",children:"1 chambre"}),(0,t.jsx)(u.eb,{value:"2",children:"2 chambres"}),(0,t.jsx)(u.eb,{value:"3",children:"3 chambres"}),(0,t.jsx)(u.eb,{value:"4",children:"4 chambres"}),(0,t.jsx)(u.eb,{value:"5+",children:"5 chambres ou plus"})]})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.J,{htmlFor:"secteurSouhaite",children:"Secteur souhait\xe9 (ville)"}),(0,t.jsx)(c.p,{id:"secteurSouhaite",value:em.secteurSouhaite,onChange:e=>{eK("secteurSouhaite",e.target.value),eE("secteurSouhaite"),eH(e.target.value)},placeholder:"Ville + code postal (ex: Brest 29200)",className:"mt-1",maxLength:150}),ew&&"secteurSouhaite"===eF&&eC.length>0&&(0,t.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:[eC.map((e,a)=>{let s=(null==e?void 0:e.properties)||{},r=s.city||s.name||s.municipality||"",l=s.postcode||s.postalcode||"",n="".concat(r).concat(l?" ".concat(l):"");return(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>eZ(e,"secteurSouhaite"),children:n||s.label},a)}),(0,t.jsx)("div",{className:"p-2 text-xs text-slate-500 border-t",children:"Saisissez une ville uniquement (pas de rue). Choisissez dans la liste."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.J,{htmlFor:"rayonKm",children:"Rayon de recherche (km)"}),(0,t.jsxs)(u.l6,{value:em.rayonKm,onValueChange:e=>eK("rayonKm",e),children:[(0,t.jsx)(u.bq,{id:"rayonKm",className:"mt-1",children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"5",children:"5 km"}),(0,t.jsx)(u.eb,{value:"10",children:"10 km"}),(0,t.jsx)(u.eb,{value:"15",children:"15 km"}),(0,t.jsx)(u.eb,{value:"20",children:"20 km"}),(0,t.jsx)(u.eb,{value:"30",children:"30 km"}),(0,t.jsx)(u.eb,{value:"50+",children:"50 km ou plus"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.J,{htmlFor:"dateEmmenagement",children:"Date souhait\xe9e d'emm\xe9nagement"}),(0,t.jsx)(O.l,{id:"dateEmmenagement",value:em.dateEmmenagement,onChange:e=>eK("dateEmmenagement",e),fromYear:new Date().getFullYear(),toYear:new Date().getFullYear()+2,ariaLabel:"S\xe9lectionner la date d'emm\xe9nagement",className:"mt-1",placeholder:"jj/mm/aaaa",displayFormat:"dd/MM/yyyy"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.J,{htmlFor:"preavisADeposer",children:"Avez-vous un pr\xe9avis \xe0 d\xe9poser ?"}),(0,t.jsxs)(u.l6,{value:em.preavisADeposer,onValueChange:e=>eK("preavisADeposer",e),children:[(0,t.jsx)(u.bq,{id:"preavisADeposer",className:"mt-1",children:(0,t.jsx)(u.yv,{placeholder:"S\xe9lectionner"})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"oui",children:"Oui"}),(0,t.jsx)(u.eb,{value:"non",children:"Non"}),(0,t.jsx)(u.eb,{value:"ne_sais_pas",children:"Je ne sais pas"})]})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(m.J,{htmlFor:"raisonDemenagement",children:["Raison du d\xe9m\xe9nagement ",(0,t.jsx)("span",{className:"ml-1 text-slate-400 text-xs",children:"(facultatif)"})]}),(0,t.jsx)(v,{id:"raisonDemenagement",value:em.raisonDemenagement,onChange:e=>eK("raisonDemenagement",e.target.value),placeholder:"Mutation professionnelle, famille qui s'agrandit, s\xe9paration…",className:"mt-1",maxLength:300}),(0,t.jsxs)("p",{className:"text-xs text-right text-slate-500 mt-1",children:[em.raisonDemenagement.length," / 300 caract\xe8res utilis\xe9s"]})]})]}),(0,t.jsxs)("div",{className:"pt-4",children:[(0,t.jsxs)(m.J,{htmlFor:"informationsComplementaires",children:["Informations compl\xe9mentaires ",(0,t.jsx)("span",{className:"ml-1 text-slate-400 text-xs",children:"(facultatif)"})]}),(0,t.jsx)(v,{id:"informationsComplementaires",value:em.informationsComplementaires,onChange:e=>eK("informationsComplementaires",e.target.value),placeholder:"Ex : demande particuli\xe8re, accessibilit\xe9 PMR…",className:"mt-1",maxLength:300}),(0,t.jsxs)("p",{className:"text-xs text-right text-slate-500 mt-1",children:[em.informationsComplementaires.length," / 300 caract\xe8res utilis\xe9s"]})]})]}),"dossierfacile"===e$.type&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("p",{className:"text-slate-600",children:"Si vous disposez d\xe9j\xe0 d'un dossier num\xe9rique locatif (ex : DossierFacile), vous pouvez renseigner le lien ci-dessous. Sinon, ne transmettez aucune pi\xe8ce justificative pour le moment. Nous vous les demanderons uniquement si votre dossier est pr\xe9s\xe9lectionn\xe9."}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(m.J,{htmlFor:"dossierFacileLink",className:"flex items-center gap-2 font-semibold text-gray-700",children:[(0,t.jsx)(S.A,{className:"h-4 w-4 text-gray-500"}),"Lien DossierFacile ",(0,t.jsx)("span",{className:"ml-1 text-slate-400 text-xs",children:"(facultatif)"})]}),(0,t.jsx)(c.p,{id:"dossierFacileLink",type:"url",value:eL,onChange:e=>eR(e.target.value),placeholder:"https://www.dossierfacile.fr/partager/...",className:"mt-2",maxLength:255}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1.5",children:"Ex: https://www.dossierfacile.fr/partager/abcdef"})]}),(0,t.jsxs)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-300 text-blue-800 rounded-r-lg space-y-3",children:[(0,t.jsxs)("h4",{className:"font-bold flex items-center gap-2 text-blue-900",children:[(0,t.jsx)(G.A,{className:"h-5 w-5 text-blue-600"}),"Pourquoi utiliser DossierFacile ?"]}),(0,t.jsxs)("ul",{className:"space-y-1 text-sm list-inside list-disc pl-2 text-blue-700",children:[(0,t.jsx)("li",{children:"Service public officiel"}),(0,t.jsx)("li",{children:"Vos donn\xe9es restent prot\xe9g\xe9es"}),(0,t.jsx)("li",{children:"Partage simple et s\xe9curis\xe9"})]})]}),(0,t.jsx)("div",{className:"p-4 bg-amber-50 border-l-4 border-amber-400 text-amber-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(V.A,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-amber-900",children:"Ne transmettez jamais de justificatifs par email sans demande de notre part."}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Si besoin, nous vous contacterons personnellement pour expliquer la marche \xe0 suivre."})]})]})})]}),"recapitulatif"===e$.type&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(H,{title:"Bien concern\xe9",onEdit:()=>p(aa("bien")),children:(0,t.jsx)(Z,{label:"R\xe9f\xe9rence",value:el})}),ei.map((e,a)=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(H,{title:"Identit\xe9 - ".concat("monsieur"===e.civilite?"M.":"Mme"," ").concat(e.prenom," ").concat(e.nom),onEdit:()=>p(aa("identite",a)),children:[(0,t.jsx)(Z,{label:"Civilit\xe9",value:"monsieur"===e.civilite?"Monsieur":"Madame"}),(0,t.jsx)(Z,{label:"Pr\xe9nom",value:e.prenom}),(0,t.jsx)(Z,{label:"Nom",value:e.nom}),(0,t.jsx)(Z,{label:"Contact",value:"".concat(e.email," / ").concat(e.telephone)}),(0,t.jsx)(Z,{label:"N\xe9(e) le",value:e.dateNaissance}),(0,t.jsx)(Z,{label:"Lieu de naissance",value:e.lieuNaissance}),(0,t.jsx)(Z,{label:"Adresse actuelle",value:e.adresseActuelle}),(0,t.jsx)(Z,{label:"Situation conjugale",value:e.situationConjugale}),(0,t.jsx)(Z,{label:"Statut logement",value:e.situationActuelle})]}),(0,t.jsxs)(H,{title:"Situation professionnelle - ".concat("monsieur"===e.civilite?"M.":"Mme"," ").concat(e.prenom," ").concat(e.nom),onEdit:()=>p(aa("professionnel",a)),children:[(0,t.jsx)(Z,{label:"Situation",value:e.typeContrat}),["cdi","cdd","fonctionnaire","freelance"].includes(e.typeContrat)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{label:"Profession",value:e.profession}),(0,t.jsx)(Z,{label:"Nom de l'employeur",value:e.employeurNom}),(0,t.jsx)(Z,{label:"Adresse de l'employeur",value:e.employeurAdresse}),(0,t.jsx)(Z,{label:"T\xe9l\xe9phone de l'employeur",value:e.employeurTelephone})]}),["cdi","fonctionnaire"].includes(e.typeContrat)&&(0,t.jsx)(Z,{label:"Date d'embauche",value:e.dateEmbauche}),"cdd"===e.typeContrat&&(0,t.jsx)(Z,{label:"Date de fin de contrat",value:e.dateFinContrat}),"interim"===e.typeContrat&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{label:"Agence d'int\xe9rim",value:e.agenceInterim}),(0,t.jsx)(Z,{label:"En int\xe9rim depuis",value:e.dureeInscriptionInterim})]}),"freelance"===e.typeContrat&&(0,t.jsx)(Z,{label:"Date de d\xe9but d'activit\xe9",value:e.dateDebutActivite}),"retraite"===e.typeContrat&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{label:"Caisse de retraite",value:e.regimeRetraite}),(0,t.jsx)(Z,{label:"Date de d\xe9part",value:e.dateDebutRetraite})]}),"etudiant"===e.typeContrat&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{label:"\xc9tablissement / Formation",value:e.etablissementFormation}),(0,t.jsx)(Z,{label:"En alternance",value:e.alternance}),"oui"===e.alternance&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{label:"Profession / Poste",value:e.profession}),(0,t.jsx)(Z,{label:"Type de contrat",value:e.typeAlternance}),(0,t.jsx)(Z,{label:"Employeur",value:e.employeurNom}),(0,t.jsx)(Z,{label:"Adresse employeur",value:e.employeurAdresse}),(0,t.jsx)(Z,{label:"T\xe9l\xe9phone",value:e.employeurTelephone}),(0,t.jsx)(Z,{label:"D\xe9but",value:e.dateEmbauche}),(0,t.jsx)(Z,{label:"Fin",value:e.dateFinContrat}),(0,t.jsx)(Z,{label:"Salaire",value:e.salaire?"".concat(e.salaire," €"):""})]})]}),"sans_emploi"===e.typeContrat&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{label:"Situation",value:e.situationActuelleSansEmploi}),(0,t.jsx)(Z,{label:"Origine du revenu",value:"Autre"===e.origineRevenuPrincipal?e.origineRevenuPrincipalAutre:e.origineRevenuPrincipal})]}),(0,t.jsx)(Z,{label:"Revenu principal",value:e.salaire?"".concat(e.salaire," €"):""}),e.revenusAdditionnels.length>0&&(0,t.jsxs)("div",{className:"pt-2 mt-2 border-t",children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Revenus additionnels :"}),(0,t.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:e.revenusAdditionnels.map(e=>{let a="Autre"===e.type?e.precision||"Autre":e.type,s=e.montant&&""!==e.montant.trim()?"".concat(e.montant," €"):"-";return(0,t.jsxs)("li",{className:"font-medium text-slate-800 break-words whitespace-pre-wrap leading-relaxed",children:[a,(0,t.jsx)("span",{className:"whitespace-nowrap",children:" : ".concat(s)})]},e.id)})})]})]})]},a)),(ei.length>1||eo>0)&&(0,t.jsx)(H,{title:"Enfants \xe0 charge",onEdit:()=>p(aa(ei.length>1?"enfants":"identite")),children:(0,t.jsx)(Z,{label:"Nombre d'enfants",value:eo})}),(0,t.jsxs)(H,{title:"Garanties",onEdit:()=>p(aa("garanties")),children:[(0,t.jsx)(Z,{label:"Garant familial",value:ex.garantFamilial}),"oui"===ex.garantFamilial&&(0,t.jsx)(Z,{label:"Pr\xe9cision",value:ex.precisionGarant}),(0,t.jsx)(Z,{label:"Garantie Visale",value:ex.garantieVisale}),Array.isArray(ex.garants)&&ex.garants.length>0&&(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t",children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Garants d\xe9clar\xe9s :"}),ex.garants.map((e,a)=>(0,t.jsxs)("p",{className:"font-medium text-slate-800",children:["• ",e.prenom," ",e.nom," — ",e.email," — ",e.telephone]},"".concat(e.email,"-").concat(a)))]})]}),("oui"===ep||""!==em.informationsComplementaires.trim())&&(0,t.jsxs)(H,{title:"Crit\xe8res de recherche",onEdit:()=>p(aa("recherche")),children:["oui"===ep&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{label:"Chambres minimum",value:em.nombreChambres}),(0,t.jsx)(Z,{label:"Secteur",value:em.secteurSouhaite}),(0,t.jsx)(Z,{label:"Rayon",value:em.rayonKm}),(0,t.jsx)(Z,{label:"Date d'emm\xe9nagement",value:em.dateEmmenagement}),(0,t.jsx)(Z,{label:"Pr\xe9avis \xe0 d\xe9poser",value:em.preavisADeposer}),(0,t.jsx)(Z,{label:"Raison d\xe9m\xe9nagement",value:em.raisonDemenagement})]}),(0,t.jsx)(Z,{label:"Informations compl\xe9mentaires",value:em.informationsComplementaires})]}),eL&&(0,t.jsx)(H,{title:"Dossier Num\xe9rique",onEdit:()=>p(aa("dossierfacile")),children:(0,t.jsx)(Z,{label:"Lien DossierFacile",value:eL})}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(T.A,{className:"h-5 w-5 text-blue-500 mr-3"})}),(0,t.jsxs)("div",{className:"text-sm space-y-2",children:[(0,t.jsx)("p",{className:"font-bold",children:"V\xe9rification avant envoi"}),(0,t.jsx)("p",{children:"Veuillez v\xe9rifier attentivement toutes les informations. Un PDF sera automatiquement g\xe9n\xe9r\xe9 et transmis \xe0 l'agence."}),(0,t.jsx)("p",{children:"Vous pouvez revenir aux \xe9tapes pr\xe9c\xe9dentes pour modifier si n\xe9cessaire."})]})]})})]}),(0,t.jsx)("div",{className:"pt-6 border-t",children:s<eG?(0,t.jsx)(U.v,{currentStep:s,totalSteps:eG,maxReachedStep:C,onPrevious:()=>p(Math.max(1,s-1)),onNext:()=>{if(!at())return;let e=Math.min(eG,s+1);p(e),w(a=>Math.max(a,e))},onStepClick:ar,canGoNext:s<eG,canGoPrevious:s>1,className:"mb-4"}):(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(d.$,{type:"button",onClick:()=>{eN(!0),ey(!1)},disabled:ej,size:"lg",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:ej?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(L.A,{className:"w-5 h-5"}),"Envoyer ma fiche de renseignements"]})})})})]})]})})]}),(0,t.jsx)(x.lG,{open:ev,onOpenChange:eN,children:(0,t.jsxs)(x.Cf,{className:"sm:max-w-md",children:[(0,t.jsxs)(x.c7,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(V.A,{className:"h-5 w-5 text-orange-600"})}),(0,t.jsx)(x.L3,{className:"text-lg",children:"Confirmation d'envoi"})]}),(0,t.jsx)(x.rr,{className:"text-left",children:"Vous \xeates sur le point d'envoyer votre demande de visite \xe0 l'agence ALV Immobilier."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg text-sm",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Cette action va :"}),(0,t.jsxs)("ul",{className:"space-y-1 text-slate-700 list-disc list-inside",children:[(0,t.jsx)("li",{children:"G\xe9n\xe9rer automatiquement un PDF de votre dossier"}),(0,t.jsx)("li",{children:"L'envoyer directement \xe0 notre agence"}),(0,t.jsx)("li",{children:"D\xe9clencher le traitement de votre demande de visite"})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(T.A,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)("h4",{className:"font-semibold text-blue-800",children:"V\xe9rifiez vos adresses email :"})]}),(0,t.jsx)("div",{className:"space-y-2",children:ei.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[(0,t.jsx)($.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{className:"font-medium",children:[e.prenom&&e.nom?"".concat(e.prenom," ").concat(e.nom):"Locataire ".concat(a+1)," ",":"]})," ",e.email||"Email non renseign\xe9"]})]},a))}),(0,t.jsx)("p",{className:"text-xs text-blue-600 mt-3",children:"Ces adresses seront utilis\xe9es pour vous recontacter."})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3 pt-2",children:[(0,t.jsx)(h.S,{id:"confirmation",checked:ef,onCheckedChange:e=>ey(!!e),className:"mt-1"}),(0,t.jsx)("label",{htmlFor:"confirmation",className:"text-sm leading-relaxed cursor-pointer",children:"J'atteste sur l'honneur l'exactitude des informations communiqu\xe9es et j'autorise l'agence ALV Immobilier \xe0 traiter ces donn\xe9es dans le cadre de ma demande de location."})]})]}),(0,t.jsxs)(x.Es,{className:"flex-col sm:flex-row gap-2 pt-4",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>eN(!1),className:"w-full sm:w-auto bg-transparent",children:"Annuler"}),(0,t.jsx)(d.$,{onClick:ae,disabled:!ef||ej,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white",children:ej?"Envoi en cours...":"Confirmer l'envoi"})]})]})}),(0,t.jsx)(y.p,{show:ej,message:"Veuillez patienter… Votre dossier est en cours de traitement"})]})}},9679:(e,a,s)=>{Promise.resolve().then(s.bind(s,3654))}},e=>{var a=a=>e(e.s=a);e.O(0,[63,253,447,980,576,441,684,977],()=>a(9679)),_N_E=e.O()}]);